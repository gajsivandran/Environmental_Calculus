# Applications of Derivatives - Workbook

## Introduction — Reading Behavior Through Derivatives

In this workbook, we’ll use **derivatives** to uncover what’s happening within a function — not just its values, but how it *behaves*.  
By studying derivatives, we can see where a system is **growing**, **slowing**, or **reversing direction** — and what those shifts mean in an environmental context.

- We’ll use **first derivatives** to identify where the function is **increasing or decreasing** and to locate **extrema** — points where growth stops and reverses.  
- We’ll use **second derivatives** to understand how that rate of change itself is evolving — whether growth is **accelerating**, **slowing**, or approaching a **tipping point**.

Together, these tools allow us to interpret a system’s story: when it’s changing most rapidly, when it levels off, and when it begins to turn — revealing the dynamic patterns that shape natural processes.


## Guided Activity — Using Derivatives to Find Extremes

This activity will help you explore how derivatives identify **extrema** — the highest and lowest points of a system’s behavior.

---

### Thinking About Extremes

::: promptbox
Before jumping into equations, think about these situations:

| Scenario | What variable reaches a high or low point? | What does that point mean ecologically? |
|--------------------|-------------------------------------|----------------------------------|
| A glacier’s melt rate throughout the summer | | |
| Algal population growth as nutrient levels rise | | |
| Temperature of a lake over a 24-hour cycle | | |
| Rainfall-runoff relationship during a storm | | |

**Prompt:**  
In each case, what would the *slope* of the curve (the derivative) tell you?  
When might that slope be **zero**?

:::

---

### Visualizing Local and Global Extrema

In this section we will interpret these functions and points of interest.

```{r four-extrema-types-wb, echo=FALSE, fig.width=10, fig.height=8}
library(ggplot2)
library(patchwork)

# A. Local Max and Min
f1 <- function(x) x^3 - 3*x^2 + 2
x1 <- seq(-1, 3.5, length.out = 400)
df1 <- data.frame(x = x1, y = f1(x1))
p1 <- ggplot(df1, aes(x, y)) +
  geom_line(color = "steelblue", linewidth = 1.2) +
  labs(title = "A. Local Max and Min (Cubic Function)",
       subtitle = expression(f(x) == x^3 - 3*x^2 + 2),
       x = "x", y = "f(x)") +
  theme_minimal(base_size = 12)

# B. Global Extrema at Endpoints
f2 <- function(x) -(x - 3)^2 + 5
x2 <- seq(0, 6, length.out = 400)
df2 <- data.frame(x = x2, y = f2(x2))
p2 <- ggplot(df2, aes(x, y)) +
  geom_line(color = "darkgreen", linewidth = 1.2) +
  labs(title = "B. Global Extrema at Endpoints (Finite Domain)",
       subtitle = expression(f(x) == -~(x-3)^2 + 5~~" over [0,6]"),
       x = "x", y = "f(x)") +
  theme_minimal(base_size = 12)

# C. Flat Region (No Extremum)
f3 <- function(x) x^3
x3 <- seq(-2, 2, length.out = 400)
df3 <- data.frame(x = x3, y = f3(x3))
p3 <- ggplot(df3, aes(x, y)) +
  geom_line(color = "orange", linewidth = 1.2) +
  labs(title = "C. Flat Region — No Extrema",
       subtitle = expression(f(x) == x^3),
       x = "x", y = "f(x)") +
  theme_minimal(base_size = 12)

# D. Periodic Function
f4 <- function(x) sin(x)
x4 <- seq(0, 2*pi, length.out = 400)
df4 <- data.frame(x = x4, y = f4(x4))
p4 <- ggplot(df4, aes(x, y)) +
  geom_line(color = "purple", linewidth = 1.2) +
  labs(title = "D. Periodic Function with Repeating Extrema",
       subtitle = expression(f(x) == sin(x)~~" over [0,2π]"),
       x = "x", y = "f(x)") +
  theme_minimal(base_size = 12)

(p1 | p2) / (p3 | p4)

```

::: promptbox

#### Visual Observations {-}

| Panel | What kind of extrema do you see? | Where does the curve rise/fall? | Any flat regions? |
|--------|----------------------------------|---------------------------------|-------------------|
| A | | | |
| B | | | |
| C | | | |
| D | | | |


:::

---

### Local vs. Global Thinking

::: promptbox
Using what you’ve seen:

1. How is a **local extremum** different from a **global extremum**?  
2. Why can **endpoints** matter when the domain is limited (like daily radiation between sunrise and sunset)?  

:::

---



### Connecting to Derivatives


::: promptbox

#### We Are “Difference Machines” {-}

Our brains are wired to notice **change**, not constancy.

If a light stays on, we stop seeing it.  
If a sound is steady, it fades into the background.  
But when something shifts — brightness flickers, volume drops, temperature rises — our attention snaps to it instantly.

Your mind is not recording the world frame by frame — it’s continuously comparing **what just happened** to **what’s happening now**.

We don’t process absolute information; we process **differences**.

---

#### Why We Measure Change {-}

Environmental scientists do the same thing.

We rarely ask, “What is the exact value right now?”  
Instead, we ask:
- *How fast is the glacier melting?*  
- *Is the population growing or shrinking?*  
- *How quickly is CO₂ increasing?*  
- *When does the trend reverse?*

These are all **questions about change**, not state.

Just as our brains focus on shifting inputs, our mathematical tools — **derivatives** — are designed to measure **how one quantity changes relative to another**.

---

#### The Calculus Connection{-}

- The **first derivative** \( f'(x) \) measures *how fast* something changes — our mathematical version of noticing movement, drift, or growth.  
- The **second derivative** \( f''(x) \) measures *how the rate of change itself evolves* — like sensing acceleration or sudden reversals.

Both capture what your brain already prioritizes: **difference** and **change over time**.

:::

---

At each peak or valley, the slope of the tangent line is **zero**.

| Observation | Symbolic Meaning | Real-World Analogy |
|:-------------:|:----------------:|:------------------:|
| Curve is increasing | \( f'(x) > 0 \) | Lake temperature rising during morning |
| Curve is decreasing | \( f'(x) < 0 \) | River discharge falling after storm peak |
| Curve flattens | \( f'(x) = 0 \) | Population growth stops accelerating |

::: promptbox

#### Finding Critical Points {-}

How can we use \( f'(x) = 0 \) to predict where peaks and valleys occur before plotting the function?

:::

---

### Classify Behavior from the Derivative

For each derivative, decide where the function is **increasing**, **decreasing**, or **flat** and over which intervals?

Note we don't have the function here - just its derivative.

| Derivative Expression | Critical points of \( f'(x) \) | Behavior of \( f(x) \) |
|------------------------|--------------------|-------------------------|
| \( f'(x) = 3x^2 - 6x \) | | |
| \( f'(x) = -2(x-3) \) | | |
| \( f'(x) = 4x^3 - 10x \) | | |

There will be times where factoring isn't simple. **IF** the function is quadratic you can always use the **quadratic formula** which gives the solutions (or roots) of a quadratic equation  
\[
ax^2 + bx + c = 0
\]
and is written as:

\[
x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
\]

::: promptbox

#### How to build a sign chart {-}
 \( f'(x) = 3x^2 - 6x \)
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

\( f'(x) = -2(x-3) \)
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

\( f'(x) = 4x^3 - 10x \)
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

:::


---



### Apply to a New Example

Let’s model population dynamics of bears:
\[
P(t) = -t^3 + 6t^2 - 9t + 20
\]

```{r, echo=FALSE}
P <- function(t) -t^3 + 6*t^2 - 9*t + 20
curve(P(x), from = 0, to = 5,
col = "forestgreen", lwd = 2,
xlab = "t", ylab = "P(t)",
main = "Population Model P(t)")
```



::: promptbox
#### Prompts {-}

- Between which time intervals does the population increase or decrease?  
- At what points might \( P'(t) = 0 \)?  
- Which point seems to be a **local maximum** and which a **local minimum**?  
- How could this correspond to resource limitation or recovery in an ecosystem?  
- What might happen if external factors (like drought or nutrient input) shifted these extrema?

:::

---

### Investigating the Derivative 

Now that you’ve visualized the population curve, let’s explore how its **rate of change** behaves.  

We’ll look at the derivative \( P'(t) \), which tells us whether the population is growing or shrinking at any moment.

```{r, echo=FALSE}
P_prime <- function(t) -3*t^2 + 12*t - 9
curve(P_prime(x), from = 0, to = 5, col = "steelblue", lwd = 2,
      ylab = "P'(t)", xlab = "t",
      main = "Derivative of the Population Model")
abline(h = 0, lty = 2, col = "gray50")
```

::: promptbox
#### Prompts {-}

- Where does \( P'(t) = 0 \)?  
- Between which values of \(t\) is \(P'(t)\) positive or negative?  
- How does the sign of \( P'(t) \) relate to whether \( P(t) \) is increasing or decreasing?  
- How do these intervals correspond to growth and decline phases in a population?  
- What might cause these transitions in a real system (e.g., changes in food, space, or temperature)?  

:::

---

### Linking Derivatives to System Behavior

Use your graph to fill in the table below.

| Observation | Derivative Sign | Population Behavior | Ecological Meaning |
|--------------|----------------|----------------------|--------------------|
| \( P'(t) > 0 \) | Positive | \( P(t) \) increasing | Growth phase — population expanding |
| \( P'(t) = 0 \) | Zero | Slope of \( P(t) \) flat | Turning point — possible max or min |
| \( P'(t) < 0 \) | Negative | \( P(t) \) decreasing | Decline — competition or limitation |

---

### Adding the Second Derivative

Next, explore the **curvature** of population change — whether the growth rate itself is speeding up or slowing down.  

We’ll look at the second derivative \( P''(t) \).

```{r, echo=FALSE}
P_doubleprime <- function(t) -6*t + 12
curve(P_doubleprime(x), from = 0, to = 5, col = "darkorange", lwd = 2,
      ylab = "P''(t)", xlab = "t",
      main = "Second Derivative — Curvature of Population Change")
abline(h = 0, lty = 2, col = "gray50")
```


::: promptbox

#### Prompts{-}

- Where does \( P''(t) = 0 \)?  
- What happens to \( P'(t) \) and \( P(t) \) near this point?  
- How does the curvature (concavity) change before and after \( P''(t) = 0 \)?  
- What does a **positive** \( P''(t) \) tell you about the rate of change?  
- What does a **negative** \( P''(t) \) indicate about slowing or reversing growth?  
- In ecological terms, how might this point represent a **tipping point** or **carrying capacity**?  

:::

---

Now consider the **second derivative**, which describes how the rate of change itself is changing.  
Use this table to connect the **sign of \( P''(t) \)** with system behavior.

| Observation | Second Derivative Sign | Curvature / Behavior of \( P(t) \) | Ecological Meaning |
|--------------|------------------------|------------------------------------|--------------------|
| \( P''(t) > 0 \) | Positive | Concave up — slope of \( P(t) \) increasing | Growth is **accelerating**; system recovering or resources increasing |
| \( P''(t) = 0 \) | Zero | Point of inflection — curvature changes sign | **Tipping point** where growth shifts from accelerating to slowing |
| \( P''(t) < 0 \) | Negative | Concave down — slope of \( P(t) \) decreasing | Growth is **slowing**; system approaching **carrying capacity** or limitation |


::: promptbox

#### Discussion {-}

1. When \( P'(t) = 0 \), what does this mean physically in the system?  
2. When \( P''(t) = 0 \), what does this indicate about how the rate of change itself is behaving?  
3. How could identifying **inflection points** help forecast environmental transitions before they occur?  
4. Think of a real example — such as CO₂ uptake by vegetation, or lake temperature over a year.  
   - Where might you expect **maxima**, **minima**, and **inflection points** to occur?  
   - What could each tell you about system resilience or change?  

> **Big Takeaway:**  
> - \( f'(x) \) shows **how fast** something changes.  
> - \( f''(x) \) shows **how that rate** itself changes.  
> - Together, they reveal whether a system is **accelerating, stabilizing, or reversing** — the mathematical fingerprints of environmental balance.

:::
