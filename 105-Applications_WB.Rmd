# Applications of Derivatives - Workbook

## Introduction — Reading Behavior Through Derivatives

In this workbook, we’ll use **derivatives** to uncover what’s happening within a function — not just its values, but how it *behaves*.  
By studying derivatives, we can see where a system is **growing**, **slowing**, or **reversing direction** — and what those shifts mean in an environmental context.

- We’ll use **first derivatives** to identify where the function is **increasing or decreasing** and to locate **extrema** — points where growth stops and reverses.  
- We’ll use **second derivatives** to understand how that rate of change itself is evolving — whether growth is **accelerating**, **slowing**, or approaching a **tipping point**.

Together, these tools allow us to interpret a system’s story: when it’s changing most rapidly, when it levels off, and when it begins to turn — revealing the dynamic patterns that shape natural processes.


## Guided Activity — Using Derivatives to Find Extremes

This activity will help you explore how derivatives identify **extrema** — the highest and lowest points of a system’s behavior.

---

### Thinking About Extremes

::: promptbox
Before jumping into equations, think about these situations:

| Scenario | What variable reaches a high or low point? | What does that point mean ecologically? |
|--------------------|-------------------------------------|----------------------------------|
| A glacier’s melt rate throughout the summer | | |
| Algal population growth as nutrient levels rise | | |
| Temperature of a lake over a 24-hour cycle | | |
| Rainfall-runoff relationship during a storm | | |

**Prompt:**  
In each case, what would the *slope* of the curve (the derivative) tell you?  
When might that slope be **zero**?

:::

---

### Visualizing Local and Global Extrema

In this section we will interpret these functions and points of interest.

```{r four-extrema-types-wb, echo=FALSE, fig.width=10, fig.height=8}
library(ggplot2)
library(patchwork)

# A. Local Max and Min
f1 <- function(x) x^3 - 3*x^2 + 2
x1 <- seq(-1, 3.5, length.out = 400)
df1 <- data.frame(x = x1, y = f1(x1))
p1 <- ggplot(df1, aes(x, y)) +
  geom_line(color = "steelblue", linewidth = 1.2) +
  labs(title = "A. Local Max and Min (Cubic Function)",
       subtitle = expression(f(x) == x^3 - 3*x^2 + 2),
       x = "x", y = "f(x)") +
  theme_minimal(base_size = 12)

# B. Global Extrema at Endpoints
f2 <- function(x) -(x - 3)^2 + 5
x2 <- seq(0, 6, length.out = 400)
df2 <- data.frame(x = x2, y = f2(x2))
p2 <- ggplot(df2, aes(x, y)) +
  geom_line(color = "darkgreen", linewidth = 1.2) +
  labs(title = "B. Global Extrema at Endpoints (Finite Domain)",
       subtitle = expression(f(x) == -~(x-3)^2 + 5~~" over [0,6]"),
       x = "x", y = "f(x)") +
  theme_minimal(base_size = 12)

# C. Flat Region (No Extremum)
f3 <- function(x) x^3
x3 <- seq(-2, 2, length.out = 400)
df3 <- data.frame(x = x3, y = f3(x3))
p3 <- ggplot(df3, aes(x, y)) +
  geom_line(color = "orange", linewidth = 1.2) +
  labs(title = "C. Flat Region — No Extrema",
       subtitle = expression(f(x) == x^3),
       x = "x", y = "f(x)") +
  theme_minimal(base_size = 12)

# D. Periodic Function
f4 <- function(x) sin(x)
x4 <- seq(0, 2*pi, length.out = 400)
df4 <- data.frame(x = x4, y = f4(x4))
p4 <- ggplot(df4, aes(x, y)) +
  geom_line(color = "purple", linewidth = 1.2) +
  labs(title = "D. Periodic Function with Repeating Extrema",
       subtitle = expression(f(x) == sin(x)~~" over [0,2π]"),
       x = "x", y = "f(x)") +
  theme_minimal(base_size = 12)

(p1 | p2) / (p3 | p4)

```

::: promptbox

#### Visual Observations {-}

| Panel | What kind of extrema do you see? | Where does the curve rise/fall? | Any flat regions? |
|--------|----------------------------------|---------------------------------|-------------------|
| A | | | |
| B | | | |
| C | | | |
| D | | | |


:::

---

### Local vs. Global Thinking

::: promptbox
Using what you’ve seen:

1. How is a **local extremum** different from a **global extremum**?  
2. Why can **endpoints** matter when the domain is limited (like daily radiation between sunrise and sunset)?  

:::

---



### Connecting to Derivatives


::: promptbox

#### We Are “Difference Machines” {-}

Our brains are wired to notice **change**, not constancy.

If a light stays on, we stop seeing it.  
If a sound is steady, it fades into the background.  
But when something shifts — brightness flickers, volume drops, temperature rises — our attention snaps to it instantly.

Your mind is not recording the world frame by frame — it’s continuously comparing **what just happened** to **what’s happening now**.

We don’t process absolute information; we process **differences**.

---

#### Why We Measure Change {-}

Environmental scientists do the same thing.

We rarely ask, “What is the exact value right now?”  
Instead, we ask:
- *How fast is the glacier melting?*  
- *Is the population growing or shrinking?*  
- *How quickly is CO₂ increasing?*  
- *When does the trend reverse?*

These are all **questions about change**, not state.

Just as our brains focus on shifting inputs, our mathematical tools — **derivatives** — are designed to measure **how one quantity changes relative to another**.

---

#### The Calculus Connection{-}

- The **first derivative** \( f'(x) \) measures *how fast* something changes — our mathematical version of noticing movement, drift, or growth.  
- The **second derivative** \( f''(x) \) measures *how the rate of change itself evolves* — like sensing acceleration or sudden reversals.

Both capture what your brain already prioritizes: **difference** and **change over time**.

:::

---

At each peak or valley, the slope of the tangent line is **zero**.

| Observation | Symbolic Meaning | Real-World Analogy |
|:-------------:|:----------------:|:------------------:|
| Curve is increasing | \( f'(x) > 0 \) | Lake temperature rising during morning |
| Curve is decreasing | \( f'(x) < 0 \) | River discharge falling after storm peak |
| Curve flattens | \( f'(x) = 0 \) | Population growth stops accelerating |

::: promptbox

#### Finding Critical Points {-}

How can we use \( f'(x) = 0 \) to predict where peaks and valleys occur before plotting the function?

:::

---

### Classify Behavior from the Derivative

For each derivative, decide where the function is **increasing**, **decreasing**, or **flat** and over which intervals?

Note we don't have the function here - just its derivative.

| Derivative Expression | Critical points of \( f'(x) \) | Behavior of \( f(x) \) |
|------------------------|--------------------|-------------------------|
| \( f'(x) = 3x^2 - 6x \) | | |
| \( f'(x) = -2(x-3) \) | | |
| \( f'(x) = 4x^3 - 10x \) | | |

There will be times where factoring isn't simple. **IF** the function is quadratic you can always use the **quadratic formula** which gives the solutions (or roots) of a quadratic equation  
\[
ax^2 + bx + c = 0
\]
and is written as:

\[
x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
\]

::: promptbox

#### How to build a sign chart {-}
 \( f'(x) = 3x^2 - 6x \)
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

\( f'(x) = -2(x-3) \)
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

\( f'(x) = 4x^3 - 10x \)
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

:::


---



### Apply to a New Example

Let’s model population dynamics of bears:
\[
P(t) = -t^3 + 6t^2 - 9t + 20
\]

```{r, echo=FALSE}
P <- function(t) -t^3 + 6*t^2 - 9*t + 20
curve(P(x), from = 0, to = 5,
col = "forestgreen", lwd = 2,
xlab = "t", ylab = "P(t)",
main = "Population Model P(t)")
```



::: promptbox
#### Prompts {-}

- Between which time intervals does the population increase or decrease?  
- At what points might \( P'(t) = 0 \)?  
- Which point seems to be a **local maximum** and which a **local minimum**?  
- How could this correspond to resource limitation or recovery in an ecosystem?  
- What might happen if external factors (like drought or nutrient input) shifted these extrema?

:::

---

### Investigating the Derivative 

Now that you’ve visualized the population curve, let’s explore how its **rate of change** behaves.  

We’ll look at the derivative \( P'(t) \), which tells us whether the population is growing or shrinking at any moment.

```{r, echo=FALSE}
P_prime <- function(t) -3*t^2 + 12*t - 9
curve(P_prime(x), from = 0, to = 5, col = "steelblue", lwd = 2,
      ylab = "P'(t)", xlab = "t",
      main = "Derivative of the Population Model")
abline(h = 0, lty = 2, col = "gray50")
```

::: promptbox
#### Prompts {-}

- Where does \( P'(t) = 0 \)?  
- Between which values of \(t\) is \(P'(t)\) positive or negative?  
- How does the sign of \( P'(t) \) relate to whether \( P(t) \) is increasing or decreasing?  
- How do these intervals correspond to growth and decline phases in a population?  
- What might cause these transitions in a real system (e.g., changes in food, space, or temperature)?  

:::

---

### Linking Derivatives to System Behavior

Use your graph to fill in the table below.

| Observation | Derivative Sign | Population Behavior | Ecological Meaning |
|--------------|----------------|----------------------|--------------------|
| \( P'(t) > 0 \) | Positive | \( P(t) \) increasing | Growth phase — population expanding |
| \( P'(t) = 0 \) | Zero | Slope of \( P(t) \) flat | Turning point — possible max or min |
| \( P'(t) < 0 \) | Negative | \( P(t) \) decreasing | Decline — competition or limitation |

---

### Adding the Second Derivative

Next, explore the **curvature** of population change — whether the growth rate itself is speeding up or slowing down.  

We’ll look at the second derivative \( P''(t) \).

```{r, echo=FALSE}
P_doubleprime <- function(t) -6*t + 12
curve(P_doubleprime(x), from = 0, to = 5, col = "darkorange", lwd = 2,
      ylab = "P''(t)", xlab = "t",
      main = "Second Derivative — Curvature of Population Change")
abline(h = 0, lty = 2, col = "gray50")
```


::: promptbox

#### Prompts{-}

- Where does \( P''(t) = 0 \)?  
- What happens to \( P'(t) \) and \( P(t) \) near this point?  
- How does the curvature (concavity) change before and after \( P''(t) = 0 \)?  
- What does a **positive** \( P''(t) \) tell you about the rate of change?  
- What does a **negative** \( P''(t) \) indicate about slowing or reversing growth?  
- In ecological terms, how might this point represent a **tipping point** or **carrying capacity**?  

:::

---

Now consider the **second derivative**, which describes how the rate of change itself is changing.  
Use this table to connect the **sign of \( P''(t) \)** with system behavior.

| Observation | Second Derivative Sign | Curvature / Behavior of \( P(t) \) | Ecological Meaning |
|--------------|------------------------|------------------------------------|--------------------|
| \( P''(t) > 0 \) | Positive | Concave up — slope of \( P(t) \) increasing | Growth is **accelerating**; system recovering or resources increasing |
| \( P''(t) = 0 \) | Zero | Point of inflection — curvature changes sign | **Tipping point** where growth shifts from accelerating to slowing |
| \( P''(t) < 0 \) | Negative | Concave down — slope of \( P(t) \) decreasing | Growth is **slowing**; system approaching **carrying capacity** or limitation |


::: promptbox

#### Discussion {-}

1. When \( P'(t) = 0 \), what does this mean physically in the system?  
2. When \( P''(t) = 0 \), what does this indicate about how the rate of change itself is behaving?  
3. How could identifying **inflection points** help forecast environmental transitions before they occur?  
4. Think of a real example — such as CO₂ uptake by vegetation, or lake temperature over a year.  
   - Where might you expect **maxima**, **minima**, and **inflection points** to occur?  
   - What could each tell you about system resilience or change?  

> **Big Takeaway:**   
> - \( f'(x) \) shows **how fast** something changes.  
> - \( f''(x) \) shows **how that rate** itself changes.  
> - Together, they reveal whether a system is **accelerating, stabilizing, or reversing** — the mathematical fingerprints of environmental balance.

:::


\newpage

## Sign Chart Practice Worksheet  
**Goal:** Practice creating **first** and **second derivative sign charts** for both original functions and their derivatives — learning to infer how a system behaves from either starting point.

Each part contains **two examples**:  
- One starting from the **original function \( f(x) \)**.  
- One starting from the **derivative \( f'(x) \)**.

---

\newpage

### Part 1 — Polynomial Patterns

#### A. Start from \( f(x) \){-}

Given  
\[
f(x) = x^3 - 3x^2
\]

<details>
<summary><strong>Solution</strong></summary>

First compute derivatives.  
\[
f'(x)=3x^2 - 6x = 3x(x-2),\qquad 
f''(x)=6x - 6 = 6(x-1).
\]

For the first derivative sign chart, the critical points are \(x=0\) and \(x=2\).  
Testing intervals:

- For \(x<0\), both factors are negative, so \(f'(x)>0\) and the function is increasing.  
- For \(0<x<2\), the first factor is positive and the second is negative, so \(f'(x)<0\) and the function is decreasing.  
- For \(x>2\), both factors are positive, so \(f'(x)>0\) and the function increases again.

Thus a local maximum occurs at \(x=0\) and a local minimum at \(x=2\).

For the second derivative, \(f''(x)=6(x-1)\), which changes sign at \(x=1\).  
- For \(x<1\), \(f''(x)<0\): concave down.  
- For \(x>1\), \(f''(x)>0\): concave up.  
This marks an inflection point at \(x=1\).

Putting the information together:  
The function rises to a local max at \(x=0\), falls to a local min at \(x=2\), and switches concavity at \(x=1\).  
A sketch shows increasing → decreasing → increasing behavior, with concave down before \(x=1\) and concave up afterward.

</details>

---

\newpage

#### B. Start from \( f'(x) \){-}

Given
\[
f'(x)=2x(3-x)
\]

<details>
<summary><strong>Solution</strong></summary>

Critical points occur at \(x=0\) and \(x=3\).

Testing signs:

- For \(x<0\), the first factor is negative, the second is positive, so \(f'(x)<0\): the function decreases.  
- For \(0<x<3\), both factors are positive, so \(f'(x)>0\): the function increases.  
- For \(x>3\), the first factor is positive and the second is negative, so \(f'(x)<0\): the function decreases.

This gives a local minimum at \(x=0\) and a local maximum at \(x=3\).

To analyze concavity, compute  
\[
f'(x)=6x - 2x^2 \quad\Rightarrow\quad f''(x)=6 - 4x.
\]
The second derivative equals zero at \(x=1.5\).  
- For \(x<1.5\), \(f''(x)>0\): concave up.  
- For \(x>1.5\), \(f''(x)<0\): concave down.  
Thus the function changes concavity at \(x=1.5\).

A sketch follows a decrease → increase → decrease pattern with concave up before \(1.5\) and concave down after.

</details>

---

\newpage

### Part 2 — Factored Derivatives and Flat Points

#### A. Start from \( f(x) \)

\[
f(x)=-x^3 + 3x^2 + 4x
\]

<details>
<summary><strong>Solution</strong></summary>

Differentiate:
\[
f'(x)=-3x^2+6x+4=-3(x-3)\left(x+\frac23\right),\qquad 
f''(x)=-6x+6.
\]

Critical points happen at \(x=-\tfrac23\) and \(x=3\).

Testing the derivative:

- Left of \(-\tfrac23\), the product \((x-3)(x+2/3)\) is positive, and the leading \(-3\) flips it negative-to-positive, so the function increases.  
- Between \(-\tfrac23\) and \(3\), the sign becomes negative, so the function decreases.  
- After \(3\), the expression is positive again after the flip, so the function increases.

Thus there is a local max at \(x=-\tfrac23\) and a local min at \(x=3\).

For concavity,  
\[
f''(x)= -6(x-1),
\]
so concavity changes at \(x=1\): concave down before, concave up after.  
An inflection occurs at \(x=1\).

Together: increase → decrease → increase, with concavity switching at \(x=1\).

</details>

---

\newpage

#### B. Start from \( f'(x) \)

\[
f'(x)= -3(x-1)(x+2)^2
\]

<details>
<summary><strong>Solution</strong></summary>

The derivative is zero at \(x=1\) and at \(x=-2\) (with multiplicity 2).

Because \((x+2)^2\) is always nonnegative and never changes sign, only the factor \((x-1)\) controls sign changes (and the leading \(-3\) flips everything).

Testing intervals:

- For \(x<-2\), \((x-1)<0\), the square is positive, and the leading \(-3\) makes the sign positive; the function increases.  
- For \(-2<x<1\), \((x-1)<0\), sign remains the same, so the function now decreases.  
- For \(x>1\), \((x-1)>0\), and the leading \(-3\) makes the product negative; the function continues decreasing.

Notably, the slope touches zero at \(x=-2\) but the sign does not change — a flat point, not an extremum.  
A local maximum occurs at \(x=1\).

For concavity, differentiate:
\[
f''(x)=-3\Big[(x+2)^2 + 2(x-1)(x+2)\Big]
       =-9x(x+2).
\]

Concavity changes at \(x=0\) and \(x=-2\).  
This gives multiple concavity regions and an inflection at \(x=0\); \(x=-2\) also behaves like an inflection but with a flat slope.

</details>

---

\newpage

### Part 3 — Exponential Behavior

#### A. Start from \( f(x) \)

\[
f(x)=e^x(x-2)
\]

<details>
<summary><strong>Solution</strong></summary>

Compute derivatives:
\[
f'(x)=e^x(x-1), \qquad f''(x)=e^x x.
\]

For \(f'(x)\), the slope is zero at \(x=1\).  
- For \(x<1\), the factor \((x-1)\) is negative → decreasing.  
- For \(x>1\), the factor is positive → increasing.  
Thus there is a local minimum at \(x=1\).

For the second derivative, \(f''(x)=e^x x\) changes sign at \(x=0\).  
- For \(x<0\), negative → concave down.  
- For \(x>0\), positive → concave up.  
So inflection at \(x=0\).

Long-term behavior:  
As \(x\to\infty\), the exponential dominates and \(f(x)\to\infty\).  
As \(x\to-\infty\), the exponential goes to zero from the negative side, and \(f(x)\to 0^{-}\).

</details>

---

\newpage

### Part 4 — Undefined Derivatives and Asymptotes

#### A. Start from \( f(x) \)

\[
f(x)=\frac{x}{x-1}
\]

<details>
<summary><strong>Solution</strong></summary>

Differentiate:
\[
f'(x)= -\frac{1}{(x-1)^2},\qquad 
f''(x)=\frac{2}{(x-1)^3}.
\]

The first derivative is **never zero**, so the function has no local maxima or minima.  
It is always decreasing because the numerator is \(-1\) and the square in the denominator is always positive.

Both derivatives are undefined at \(x=1\), giving a vertical asymptote.  
The second derivative changes sign at the asymptote:
- Left of 1, the denominator is negative → \(f''(x)<0\): concave down.  
- Right of 1, the denominator is positive → \(f''(x)>0\): concave up.

The function approaches the horizontal asymptote \(y=1\) as \(x\to\pm\infty\).

</details>

---

\newpage

#### B. Start from \( f'(x) \)

\[
f'(x)=\frac{e^x(x^2-4)}{x-2}
\]

<details>
<summary><strong>Solution</strong></summary>

The derivative is zero when \(x^2-4=0\), so at \(x=-2\) and \(x=2\).  
It is undefined at \(x=2\) because the denominator also becomes zero there.

Break the real line at \(-2\) and \(2\).  
Testing intervals:

- For \(x<-2\), \(x^2-4>0\) and the denominator is negative, so the slope is negative: the function decreases.  
- For \(-2<x<2\), \(x^2-4<0\) but the denominator is also negative, so slope is positive: the function increases.  
- For \(x>2\), both numerator and denominator are positive, so slope is positive: the function continues increasing.

Thus there is a local minimum at \(x=-2\).  
At \(x=2\), the derivative is undefined; this usually signals a vertical asymptote or sharp corner.  
The function increases on both sides of \(x=2\).

</details>

---

\newpage

### Reflection — From Slopes to Shapes

<details>
<summary><strong>Solution</strong></summary>

Starting from \(f(x)\) means you compute everything from scratch; starting from \(f'(x)\) forces you to infer the function’s shape from slope information.  
From \(f'(x)\) alone, you can determine where the function increases or decreases, where maxima and minima occur, and whether there might be asymptotes.  
To know concavity or inflection points, though, you need \(f''(x)\).

In environmental contexts, maxima might represent carrying capacities or peak resources, minima might represent low points in population or nutrient availability, and inflection points often mark transitions such as switching from accelerating to slowing growth.

</details>




\newpage

## Challenge Problems — Sign Charts & Shape Analysis  
Each problem includes three reveal options:  
- **Check 1st derivative**  
- **Check 2nd derivative**  
- **Full solution** at the end password will be shared at the end of clas

---

### **Challenge 1 — Hidden Factor Structure**{-}

Given  
\[
f(x) = (x^2 - 4)e^{-x}
\]

<details>
<summary><strong>Check 1st derivative</strong></summary>

Differentiate using the product rule:

\[
f'(x) = e^{-x}(-x^2 + 2x + 4)
\]

Critical points come from the quadratic:

\[
-x^2 + 2x + 4 = 0
\quad\Longleftrightarrow\quad
x^2 - 2x - 4 = 0
\]

Roots:
\[
x = 1 \pm \sqrt{5}
\qquad (\approx -1.236,\; 3.236)
\]

Sign pattern (downward-opening parabola):
- Negative for \(x < 1 - \sqrt{5}\)  
- Positive for \(1 - \sqrt{5} < x < 1 + \sqrt{5}\)  
- Negative for \(x > 1 + \sqrt{5}\)

</details>

<details>
<summary><strong>Check 2nd derivative</strong></summary>

Differentiate again:

\[
f''(x)= e^{-x}(x^2 - 4x - 2)
\]

Inflection points come from:

\[
x^2 - 4x - 2 = 0
\]

Solutions:
\[
x = 2 \pm \sqrt{6}
\qquad (\approx -0.449,\; 4.449)
\]

Since the quadratic opens upward:
- Positive for \(x < 2 - \sqrt6\)  
- Negative for \(2 - \sqrt6 < x < 2 + \sqrt6\)  
- Positive for \(x > 2 + \sqrt6\)

Concavity:
- **Concave up** before \(2 - \sqrt{6}\)  
- **Concave down** between \(2 - \sqrt{6}\) and \(2 + \sqrt{6}\)  
- **Concave up** after \(2 + \sqrt{6}\)

</details>

---

### **Challenge 2 — Rational Function With Two Asymptotes**{-}

\[
f(x)=\frac{1}{x^2 - 1}
\]

<details>
<summary><strong>Check 1st derivative</strong></summary>

Differentiate using the chain rule:

\[
f'(x)=\frac{-2x}{(x^2 - 1)^2}.
\]

Critical point comes from the numerator:

\[
-2x = 0
\quad\Longrightarrow\quad
x = 0.
\]

Derivative is **undefined** at:

\[
x = -1,\qquad x = 1
\]

These are vertical asymptotes.

**Sign chart:**

- Increasing on \((-\infty,-1)\) and \((-1,0)\)
- Decreasing on \((0,1)\) and \((1,\infty)\)

Thus the function has a **local maximum** at:

\[
f(0) = -1.
\]

</details>

<details>
<summary><strong>Check 2nd derivative</strong></summary>

After simplification, the second derivative is:

\[
f''(x)=\frac{6x^2 + 2}{(x^2 - 1)^3}.
\]

The numerator is always positive, so concavity is determined by the denominator.

Breakpoints for concavity:

- \(x = -1,\; x = 1\) (vertical asymptotes)

**Test intervals:**

| Interval | Sign of \(f''(x)\) | Concavity |
|----------|---------------------|-----------|
| \((-\infty, -1)\) | + | **Concave up** |
| \((-1, 1)\) | – | **Concave down** |
| \((1, \infty)\) | + | **Concave up** |

There is **no inflection point**, because concavity changes only across discontinuities.

</details>


### **Challenge 3 — Repeated Critical Point + Multiple Inflection Points **{-}

\[
f(x)=x^4 - 4x^3
\]



<details>
<summary><strong>Check 1st derivative</strong></summary>

Differentiate:

\[
f'(x)=4x^3 - 12x^2 = 4x^2(x - 3)
\]

Critical points:

- \(x = 0\) (double root)
- \(x = 3\)

Sign pattern:

- For \(x < 3\): \(x-3 < 0\), and \(4x^2 \ge 0\) ⇒ \(f'(x) < 0\)  
- For \(x > 3\): \(x-3 > 0\), \(f'(x) > 0\)

Thus:

- Decreasing on \((-\infty, 3)\)
- Increasing on \((3, \infty)\)
- At \(x = 0\), slope is zero but **no sign change** ⇒ a flat point, not an extremum
- At \(x = 3\), slope switches from − to + ⇒ **local minimum**

</details>



<details>
<summary><strong>Check 2nd derivative</strong></summary>

Differentiate again:

\[
f''(x)=12x^2 - 24x = 12x(x - 2)
\]

Inflection points occur where \(f''(x)=0\):

\[
x = 0, \quad x = 2
\]

Concavity pattern (test the sign of \(f''\)):

- For \(x < 0\): both \(x\) and \(x-2\) negative ⇒ \(f''(x) > 0\) → **concave up**
- For \(0 < x < 2\): \(x > 0\) but \(x-2 < 0\) ⇒ \(f''(x) < 0\) → **concave down**
- For \(x > 2\): both factors positive ⇒ \(f''(x) > 0\) → **concave up**

So concavity transitions:

\[
\text{concave up} \;\to\; \text{concave down} \;\to\; \text{concave up}
\]

with legitimate inflection points at \(x = 0\) and \(x = 2\).

</details>

---

### **Challenge 4 — Always Increasing, Multiple Inflection Points** {-}

\[
f(x)=\frac{e^{x}}{x^{2}+1}
\]



<details>
<summary><strong>Check 1st derivative</strong></summary>

Differentiate:

\[
f'(x)
= \frac{e^x(x^2+1) - e^x(2x)}{(x^2+1)^2}
= \frac{e^x(x^2 - 2x + 1)}{(x^2+1)^2}
\]

Factor the numerator:

\[
f'(x)=\frac{e^x (x-1)^2}{(x^2+1)^2}
\]

All factors are nonnegative, and the derivative is zero only when \(x=1\).  
The function is therefore increasing for all real \(x\), with a horizontal tangent at \(x=1\) but no local extremum there.

</details>



<details>
<summary><strong>Check 2nd derivative</strong></summary>

Differentiating again gives the simplified form

\[
f''(x)=
\frac{
e^{x}(x-1)(x^{2} - 4x + 1)
}{
(x^{2}+1)^{3}
}
\]

The denominator is always positive, so the sign depends on \((x-1)(x^2 - 4x + 1)\).

The quadratic has roots at

\[
x = 2 \pm \sqrt{3}
\]

so together with \(x=1\), the inflection points occur at

\[
x = 2 - \sqrt{3}, \quad x = 1, \quad x = 2 + \sqrt{3}.
\]

Testing each interval shows the concavity pattern:

- down on \((-\infty,\; 2 - \sqrt{3})\)  
- up on \((2 - \sqrt{3},\; 1)\)  
- down on \((1,\; 2 + \sqrt{3})\)  
- up on \((2 + \sqrt{3},\; \infty)\)

</details>

---

### **Challenge 5 — A Function With an S-Shaped Curve**{-}

Consider the function  
\[
f(x)=\frac{50}{1+2e^{-x}}.
\]

1. Compute \(f'(x)\) and \(f''(x)\).  
2. Determine intervals of increase/decrease and concavity.  
3. Identify any critical points and inflection points.  
4. **Check the long-term limits:**  
   - What happens to \(f(x)\) as \(x\to -\infty\)?  
   - What happens to \(f(x)\) as \(x\to +\infty\)?  
5. Sketch the curve and label the important features.  
6. **Have you seen an equation with this structure in any of your other classes?**


<details>
<summary><strong>Check 1st derivative</strong></summary>

Rewrite the function as  
\[
f(x)=50(1+2e^{-x})^{-1}.
\]

Differentiate:
\[
f'(x)=50\cdot(-1)(1+2e^{-x})^{-2}\cdot(2e^{-x}\cdot -1)
     =\frac{100e^{-x}}{(1+2e^{-x})^2}.
\]

Rewriting using \(e^x\):
\[
f'(x)=\frac{100e^{x}}{(e^{x}+2)^2}.
\]

All factors are positive, so \(f'(x)>0\) for every real \(x\).  
The function is increasing everywhere.

</details>



<details>
<summary><strong>Check 2nd derivative</strong></summary>

Differentiating using the form  
\[
f'(x)=\frac{100e^{x}}{(e^{x}+2)^2}
\]
gives, after simplification:

\[
f''(x)=\frac{100e^{x}(2 - e^{x})}{(e^{x}+2)^3}.
\]

The denominator is positive for all \(x\).  
Thus the sign comes from \((2 - e^{x})\):

- For \(x < \ln 2\): \(e^{x}<2\) and \(f''(x)>0\), so the graph is concave up.  
- For \(x > \ln 2\): \(e^{x}>2\) and \(f''(x)<0\), so the graph is concave down.

There is an inflection point at  
\[
x = \ln 2.
\]

</details>

---

### Solution to Challenge Problems

<details open>
<summary><strong>Full Challenge Solutions</strong></summary>
<div id="sol_block" hidden markdown="1" style="margin-top:0.75rem;">

**CHALLEGE 1 Solution**

Start with:
\[
f'(x) = 2xe^{-x} + (x^2 - 4)(-e^{-x})
       = e^{-x}(-x^2 + 2x + 4).
\]

Since \(e^{-x} > 0\), the sign of the derivative is controlled by  
\(-x^2 + 2x + 4\), which has roots

\[
x = 1 - \sqrt5 \approx -1.236,
\qquad
x = 1 + \sqrt5 \approx 3.236.
\]

Sign analysis:
- Decreasing on \((-\infty, 1 - \sqrt5)\)  
- Increasing on \((1 - \sqrt5,\; 1 + \sqrt5)\)  
- Decreasing on \((1 + \sqrt5, \infty)\)

Thus:
- Local **maximum** at \(x = 1 - \sqrt5\)  
- Local **minimum** at \(x = 1 + \sqrt5\)

Next,
\[
f''(x)= e^{-x}(x^2 - 4x - 2).
\]

The quadratic has roots:
\[
x = 2 - \sqrt6 \approx -0.449,
\qquad
x = 2 + \sqrt6 \approx 4.449.
\]

Because the quadratic opens upward, the concavity pattern is:
- **Concave up** for \(x < 2 - \sqrt6\)  
- **Concave down** for \(2 - \sqrt6 < x < 2 + \sqrt6\)  
- **Concave up** for \(x > 2 + \sqrt6\)

Thus the function has two **inflection points**, one on each side of where the exponential begins to dominate.

The complete shape:
- Decreasing → increasing → decreasing  
- Inflection → concave down → inflection  
- Exponential factor affects magnitude but not sign behavior  

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# Challenge 1 function
f <- function(x) (x^2 - 4) * exp(-x)

# Critical points
crit1 <- 1 - sqrt(5)
crit2 <- 1 + sqrt(5)

# Inflection points
infl1 <- 2 - sqrt(6)   # approx -0.449
infl2 <- 2 + sqrt(6)   # approx 4.449

# Build data for the plot
x_vals <- seq(-2.1, 8, length.out = 2000)
df <- data.frame(
  x = x_vals,
  y = f(x_vals)
)

# Concavity shading:
# f''(x) = e^{-x}(x^2 - 4x - 2)
# Since e^{-x} > 0 always, sign comes from q(x) = x^2 - 4x - 2
# Quadratic opens upward ⇒ concave UP outside roots and concave DOWN between roots

shade <- data.frame(
  xmin = c(-6, infl1, infl2),
  xmax = c(infl1, infl2, 8),
  concavity = c("up", "down", "up")
)

shade$fill <- ifelse(shade$concavity == "up", "lightblue", "moccasin")

# Plot with shading
ggplot(df, aes(x, y)) +
  
  # Concavity shading
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin = xmin, xmax = xmax, ymin = -Inf, ymax = Inf, fill = fill),
    alpha = 0.25
  ) +
  scale_fill_identity() +
  
  # Function curve
  geom_line(color = "steelblue", linewidth = 1.2) +
  
  # Critical points
  geom_point(aes(x = crit1, y = f(crit1)), color = "firebrick", size = 3) +
  geom_point(aes(x = crit2, y = f(crit2)), color = "firebrick", size = 3) +
  annotate("text", x = crit1, y = f(crit1), label = "local max", vjust = -1) +
  annotate("text", x = crit2, y = f(crit2), label = "local min", vjust = -1) +
  
  # Inflection point labels
  geom_point(aes(x = infl1, y = f(infl1)), color = "darkgreen", size = 3) +
  geom_point(aes(x = infl2, y = f(infl2)), color = "darkgreen", size = 3) +
  annotate("text", x = infl1, y = f(infl1), label = "inflection", vjust = 1.5) +
  annotate("text", x = infl2, y = f(infl2), label = "inflection", vjust = 1.5) +
  
  labs(
    title = "Challenge 1:  f(x) = (x^2 - 4)e^{-x}",
    subtitle = "Shaded regions show concavity (blue = up, gold = down)",
    x = "x",
    y = "f(x)"
  ) +
  theme_minimal(base_size = 14)
```


---

**CHALLEGE 2 Solution**

**1. First derivative analysis**

\[
f'(x)=\frac{-2x}{(x^2 - 1)^2}
\]

Critical point:
\[
x = 0.
\]

Increasing on:
\[
(-\infty,-1),\qquad (-1,0)
\]

Decreasing on:
\[
(0,1),\qquad (1,\infty)
\]

So the function has a **local maximum** at:
\[
f(0) = -1.
\]

---

**2. Asymptote analysis (limits)**

The function is undefined at:
\[
x=-1,\qquad x=1
\]

**Asymptote at \(x=-1\)**

\[
\lim_{x\to -1^-} f(x) = +\infty,
\qquad
\lim_{x\to -1^+} f(x) = -\infty
\]

So \(x=-1\) is a **vertical asymptote**.

**Asymptote at \(x=1\)**

\[
\lim_{x\to 1^-} f(x) = -\infty,
\qquad
\lim_{x\to 1^+} f(x) = +\infty
\]

So \(x=1\) is also a **vertical asymptote**.

---

**3. Second derivative and concavity**

\[
f''(x)=\frac{6x^2 + 2}{(x^2 - 1)^3}
\]

The numerator \(6x^2+2\) is **always positive**, so concavity is determined entirely by the denominator.

Concavity pattern:
- **Concave up** on \((-\infty,-1)\)
- **Concave down** on \((-1,1)\)
- **Concave up** on \((1,\infty)\)

There are **no inflection points**, because the concavity change occurs at vertical asymptotes.

---

**4. Complete shape**

- One critical point → **local max at \(x=0\)**  
- Vertical asymptotes at \(x=-1\) and \(x=1\)  
- Concavity: up → down → up  
- Function breaks naturally into **three separate branches**  

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# Function
f <- function(x) 1/(x^2 - 1)

# Critical point
crit <- 0

# Build separate data frames to avoid crossing asymptotes
df1 <- data.frame(x = seq(-6, -1.01, length.out = 800))
df2 <- data.frame(x = seq(-0.99, 0.99, length.out = 800))
df3 <- data.frame(x = seq(1.01, 6, length.out = 800))

df1$y <- f(df1$x)
df2$y <- f(df2$x)
df3$y <- f(df3$x)

# Concavity shading intervals
shade <- data.frame(
  xmin = c(-6, -1, 1),
  xmax = c(-1, 1, 6),
  concavity = c("up", "down", "up")
)

shade$fill <- ifelse(shade$concavity == "up", "lightblue", "moccasin")

ggplot() +
  # Concavity shading
  geom_rect(
    data = shade,
    aes(xmin = xmin, xmax = xmax,
        ymin = -Inf, ymax = Inf,
        fill = fill),
    alpha = 0.25
  ) +
  scale_fill_identity() +
  
  # Curve pieces
  geom_line(data = df1, aes(x, y), linewidth = 1.2, color = "steelblue") +
  geom_line(data = df2, aes(x, y), linewidth = 1.2, color = "steelblue") +
  geom_line(data = df3, aes(x, y), linewidth = 1.2, color = "steelblue") +
  
  # Vertical asymptotes
  geom_vline(xintercept = -1, linetype = "dashed", color = "firebrick", linewidth = 1) +
  geom_vline(xintercept = 1,  linetype = "dashed", color = "firebrick", linewidth = 1) +
  
  # Critical point
  geom_point(aes(x = crit, y = f(crit)), color = "darkgreen", size = 3) +
  annotate("text", x = crit, y = f(crit), label = "local max", vjust = -1) +
  
  labs(
    title = "Challenge 2:  f(x) = 1 / (x^2 - 1)",
    subtitle = "Concavity shading (blue = up, gold = down) with asymptotes at x=-1 and x=1",
    x = "x",
    y = "f(x)"
  ) +
  
  coord_cartesian(ylim = c(-10, 10)) +
  theme_minimal(base_size = 14)
```

**CHALLEGE 3 Solution**

**1. First derivative and monotonicity**

\[
f'(x)=4x^2(x - 3)
\]

Zeros at:

- \(x = 0\) (double root → slope flattens but does not change sign)
- \(x = 3\) (simple root → sign change)

Sign pattern:

- \(f'(x) < 0\) for all \(x < 3\)
- \(f'(x) > 0\) for all \(x > 3\)

Thus:

- Always decreasing before \(x = 3\)
- Always increasing after \(x = 3\)
- A **local minimum** at \(x = 3\)
- A **flat point but no extremum** at \(x = 0\)



**2. Concavity (second derivative)**

\[
f''(x) = 12x(x - 2)
\]

Set second derivative = 0:

- \(x = 0\)
- \(x = 2\)

Concavity pattern:

- **Concave up** for \(x < 0\)
- **Concave down** for \(0 < x < 2\)
- **Concave up** for \(x > 2\)

Thus there are **two inflection points**:

\[
x = 0, \qquad x = 2
\]



**3. Overall behavior and sketch description**

- The function decreases steadily until \(x = 3\), where it achieves a **local minimum**.  
- After \(x = 3\), it increases forever.  
- Concavity:  
  - Up before 0  
  - Down between 0 and 2  
  - Up after 2  
- Inflection points at \(x = 0\) and \(x = 2\).  
- The point \(x = 0\) is especially interesting: the slope is zero there but the graph is still decreasing.

This gives the characteristic “flatten → dip → rise” shape typical of a quartic with asymmetric coefficients.


```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# Challenge 3 function
f <- function(x) x^4 - 4*x^3

# Critical points
crit_flat <- 0      # flat point (no extremum)
crit_min  <- 3      # local minimum

# Inflection points
infl1 <- 0
infl2 <- 2

# Build data for the curve
x_vals <- seq(-4, 6, length.out = 2000)
df <- data.frame(
  x = x_vals,
  y = f(x_vals)
)

# Concavity shading:
# f''(x) = 12x(x-2)
# concave up on (-inf, 0) and (2, inf)
# concave down on (0, 2)
shade <- data.frame(
  xmin = c(-4,   0,    2),
  xmax = c(0,    2,    6),
  concavity = c("up", "down", "up")
)

shade$fill <- ifelse(shade$concavity == "up", "lightblue", "moccasin")

# Plot
ggplot(df, aes(x, y)) +
  
  # Concavity shading
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin = xmin, xmax = xmax,
        ymin = -Inf, ymax = Inf, fill = fill),
    alpha = 0.25
  ) +
  scale_fill_identity() +
  
  # Function curve
  geom_line(color = "steelblue", linewidth = 1.2) +
  
  # Critical points
  geom_point(aes(x = crit_flat, y = f(crit_flat)), color = "firebrick", size = 3) +
  geom_point(aes(x = crit_min,  y = f(crit_min)),  color = "firebrick", size = 3) +
  
  annotate("text", x = crit_flat, y = f(crit_flat),
           label = "flat point", vjust = -1) +
  annotate("text", x = crit_min, y = f(crit_min),
           label = "local min", vjust = -1) +
  
  # Inflection points
  geom_point(aes(x = infl1, y = f(infl1)), color = "darkgreen", size = 3) +
  geom_point(aes(x = infl2, y = f(infl2)), color = "darkgreen", size = 3) +
  
  annotate("text", x = infl1, y = f(infl1),
           label = "inflection", vjust = 1.5) +
  annotate("text", x = infl2, y = f(infl2),
           label = "inflection", vjust = 1.5) +
  
  labs(
    title = "Challenge 3:  f(x) = x^4 - 4x^3",
    subtitle = "Shaded regions show concavity (blue = up, gold = down)",
    x = "x",
    y = "f(x)"
  ) +
  
  # Set y-axis limits here
  coord_cartesian(ylim = c(-30, 30)) +
  
  theme_minimal(base_size = 14)
```

---

**CHALLEGE 4 Solution**

The first derivative is

\[
f'(x)=\frac{e^x (x-1)^2}{(x^2+1)^2}
\]

which is never negative, and equals zero only at \(x=1\).  
This means the function is increasing everywhere with a horizontal tangent at \(x=1\) but no local maximum or minimum there.

For concavity, the relevant expression is

\[
f''(x)=
\frac{
e^{x}(x-1)(x^{2} - 4x + 1)
}{
(x^{2}+1)^{3}
}
\]

and the sign depends on \((x-1)(x^{2}-4x+1)\).  
The quadratic gives two roots, \(2-\sqrt{3}\) and \(2+\sqrt{3}\), and together with \(x=1\) these produce three inflection points.  
The concavity alternates through these intervals:

- concave down on \((-\infty, 2-\sqrt{3})\)
- concave up on \((2-\sqrt{3}, 1)\)
- concave down on \((1, 2+\sqrt{3})\)
- concave up on \((2+\sqrt{3}, \infty)\)

The complete behavior is that the function rises smoothly for all \(x\), flattens at \(x=1\) without forming an extremum, and shifts concavity three times as it rises.

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# Challenge 4 function
f <- function(x) exp(x) / (x^2 + 1)

# Inflection points
infl1 <- 2 - sqrt(3)    # ≈ 0.268
infl2 <- 1              # flat point + inflection
infl3 <- 2 + sqrt(3)    # ≈ 3.732

# Build data for the curve
x_vals <- seq(-2, 5, length.out = 2000)
df <- data.frame(
  x = x_vals,
  y = f(x_vals)
)

# Concavity shading: down → up → down → up
shade <- data.frame(
  xmin = c(-2,    infl1, infl2, infl3),
  xmax = c(infl1, infl2, infl3, 5),
  concavity = c("down", "up", "down", "up")
)

shade$fill <- ifelse(shade$concavity == "up", "lightblue", "moccasin")

# Plot
ggplot(df, aes(x, y)) +
  
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin = xmin, xmax = xmax,
        ymin = -Inf, ymax = Inf,
        fill = fill),
    alpha = 0.25
  ) +
  scale_fill_identity() +
  
  geom_line(color = "steelblue", linewidth = 1.2) +
  
  geom_point(aes(x = infl1, y = f(infl1)), color = "darkgreen", size = 3) +
  geom_point(aes(x = infl2, y = f(infl2)), color = "darkgreen", size = 3) +
  geom_point(aes(x = infl3, y = f(infl3)), color = "darkgreen", size = 3) +
  
  annotate("text", x = infl1, y = f(infl1), label = "inflection", vjust = 1.5) +
  annotate("text", x = infl2, y = f(infl2), label = "inflection", vjust = 1.5) +
  annotate("text", x = infl3, y = f(infl3), label = "inflection", vjust = 1.5) +
  
  geom_point(aes(x = 1, y = f(1)), color = "firebrick", size = 3) +
  annotate("text", x = 1, y = f(1), label = "flat point", vjust = -1) +
  
  labs(
    title = "Challenge 4:  f(x) = e^x / (x^2 + 1)",
    subtitle = "Concavity shading (blue = up, gold = down)",
    x = "x",
    y = "f(x)"
  ) +
  
  coord_cartesian(xlim = c(-2, 5), ylim = c(-0.5, 7)) +
  
  theme_minimal(base_size = 14)
```

---

**CHALLEGE 5 Solution**

The derivative  
\[
f'(x)=\frac{100e^{x}}{(e^{x}+2)^2}
\]
is positive for all real \(x\), so the function has no local maxima or minima and increases steadily for all inputs.

The second derivative  
\[
f''(x)=\frac{100e^{x}(2 - e^{x})}{(e^{x}+2)^3}
\]
changes sign when \(e^{x}=2\).  
This occurs at \(x=\ln 2\), which is an inflection point.

The concavity structure is:

- concave up for \(x<\ln 2\)  
- concave down for \(x>\ln 2\)

For the long-term limits:

As \(x\to -\infty\), \(e^{-x}\to\infty\), so the denominator \(1+2e^{-x}\) becomes very large and  
\[
\lim_{x\to -\infty} f(x)=0.
\]

As \(x\to +\infty\), \(e^{-x}\to 0\), so the denominator approaches \(1\) and  
\[
\lim_{x\to +\infty} f(x)=50.
\]

The resulting graph has a smooth S-shape, increases for all \(x\), and levels off near these two horizontal limits.


```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# Function
f <- function(x) 50 / (1 + 2 * exp(-x))

# Inflection point at x = ln(2)
infl <- log(2)

# Build data
x_vals <- seq(-6, 6, length.out = 2000)
df <- data.frame(
  x = x_vals,
  y = f(x_vals)
)

# Concavity shading: up for x < ln2, down for x > ln2
shade <- data.frame(
  xmin = c(-6, infl),
  xmax = c(infl, 6),
  concavity = c("up", "down")
)

shade$fill <- ifelse(shade$concavity == "up", "lightblue", "moccasin")

# Plot
ggplot(df, aes(x, y)) +
  
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin = xmin, xmax = xmax,
        ymin = -Inf, ymax = Inf,
        fill = fill),
    alpha = 0.25
  ) +
  scale_fill_identity() +
  
  geom_line(color = "steelblue", linewidth = 1.2) +
  
  # Inflection point
  geom_point(aes(x = infl, y = f(infl)), color = "darkgreen", size = 3) +
  annotate("text", x = infl, y = f(infl), label = "inflection", vjust = 1.5) +
  
  labs(
    title = "Challenge 5:  f(x) = 50 / (1 + 2 e^{-x})",
    subtitle = "Concavity shading (blue = up, gold = down)",
    x = "x",
    y = "f(x)"
  ) +
  
  coord_cartesian(xlim = c(-6, 6), ylim = c(-2, 55)) +
  
  theme_minimal(base_size = 14)
```

</div>

<!-- Password gate -->
<form onsubmit="unlock_solutions(); return false;" id="gate_block" style="margin-top:0.75rem;">
  <input type="password" id="pwd_block" placeholder="Enter password" aria-label="Answer key password">
  <button type="submit">Unlock</button>
  <span id="msg_block" style="margin-left:0.5rem;" aria-live="polite"></span>
</form>

<script>
// Self-contained unlocker for this block
function unlock_solutions() {
  var input = document.getElementById('pwd_block');
  var msg   = document.getElementById('msg_block');
  var sol   = document.getElementById('sol_block');
  var gate  = document.getElementById('gate_block');
  var pw    = (input.value || '').trim();

  // ⭐ SET YOUR PASSWORD HERE ⭐
  var correct_pw = 'powderfinger';

  // Ensure details stays open
  var det = gate.closest('details');
  if (det) det.open = true;

  if (pw === correct_pw) {
    sol.hidden = false;
    gate.hidden = true;
    input.value = '';
    msg.textContent = '';
  } else {
    msg.textContent = 'Ask us to check your solution';
    input.value = '';
    input.focus();
  }
}
</script>

<noscript>
<p><em>Note:</em> JavaScript is required to unlock solutions.</p>
</noscript>
</details>

---


