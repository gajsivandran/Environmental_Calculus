# Test 3 Review Material {-}

Below are resources to help you practice and prepare for the test 3 in this course.

Test 3 will cover the material covered in Chapter 5 of this textbook:

- understanding what sign charts tell us about the function
- ability to identify local and global extrema, points of inflection and curvature
- ability to use a sign chart to find extrema
- ablity to plot a function based on information from the first and second derivative sign charts


## Test Instructions {-}
Below are the general instructions for all tests

- You will get a chance to **retake** this. Your **highest** score counts toward your final grade.  
- Follow the guidance for each part and **show all work** for full credit.  
- **Non-graphical calculators** are allowed.  
- **One page (two sides)** of handwritten (or font size 8) notes are allowed.
- The equation sheet from the textbook is included as part of the test pack (it doesn't count as note pages)


## Practice Short Answer{-}

1.  
If \(f'(x) > 0\) on an interval, what does this tell you about how the environmental variable is behaving? Give an example of a real system that might show this pattern.

<details><summary><strong>Suggested Answer</strong></summary>
The variable is increasing on that interval. Examples include lake temperature rising through the morning, snowpack depth increasing during a storm, or early-stage population growth.
</details>

---

2.  
A population model has a point where \(P'(t) = 0\) but \(P''(t) < 0\). Explain what is happening biologically at that moment.

<details><summary><strong>Suggested Answer</strong></summary>
The population has reached a peak. Growth has slowed to zero, and the negative second derivative shows decline is beginning due to limits like resources or space.
</details>

---

3.  
Why is an inflection point important in environmental systems? Describe a situation where identifying the moment when concavity changes could be useful.

<details><summary><strong>Suggested Answer</strong></summary>
An inflection point marks when the rate of change switches from accelerating to decelerating. Useful examples include algae transitioning from rapid bloom to nutrient-limited slowdown or a streamflow peak transitioning to recession.
</details>

---

4.  
If a function has a horizontal asymptote as \(x \to +\infty\), what does that usually represent in ecological or physical models?

<details><summary><strong>Suggested Answer</strong></summary>
A long-term limiting value. Examples: carrying capacity, maximum nutrient uptake, equilibrium storage or temperature.
</details>

---

5.  
A function has a vertical asymptote at \(x = 3\). What does this mean, and what environmental boundary might behave this way?

<details><summary><strong>Suggested Answer</strong></summary>
The function becomes undefined at \(x=3\) and approaches ±∞. Environmental analogies include thresholds like pore pressure reaching critical limits or denominators representing zero volume remaining.
</details>

---

6.  
You are given only a derivative graph \(f'(x)\). How can you determine where the original function is increasing or decreasing, has maxima/minima, or is concave up/down?

<details><summary><strong>Suggested Answer</strong></summary>
Increasing where \(f'>0\), decreasing where \(f'<0\). A max occurs where \(f'\) changes +→– and a min where –→+. Concavity depends on whether \(f'\) is rising (concave up) or falling (concave down).
</details>

---

7.  
The second derivative of a function is positive for all \(x\). What does this tell you about the shape of the curve?

<details><summary><strong>Suggested Answer</strong></summary>
The function is concave up everywhere. This could represent accelerating recovery or compounding growth after disturbance.
</details>

---

8.  
A logistic-style function changes concavity at exactly one value of \(x\). What does that point represent in system dynamics?

<details><summary><strong>Suggested Answer</strong></summary>
It is the inflection point—the moment of maximum growth rate, where growth switches from accelerating to slowing.
</details>

---

9.  
If \(f'(x)\) is always positive but decreases toward zero as \(x \to \infty\), how would the graph look? What real process behaves this way?

<details><summary><strong>Suggested Answer</strong></summary>
The function increases but levels off toward a horizontal asymptote. Examples include nutrient uptake saturation, long-term warming trends, or logistic population limits.
</details>

---

10.  
An environmental dataset increases, then decreases, then increases again. What must the sign of the derivative look like?

<details><summary><strong>Suggested Answer</strong></summary>
The derivative must be +, then –, then +. Causes could include seasonal cycles, predator–prey oscillations, or storm hydrograph rise–fall–rise sequences.
</details>

---

11.  
If two functions both satisfy \(f'(a)=0\), must they have the same type of extremum at \(x=a\)? Explain.

<details><summary><strong>Suggested Answer</strong></summary>
No. A horizontal tangent could be a max, min, saddle, or flat point. The behavior depends on sign changes in \(f'\) or on \(f''(a)\).
</details>

---

12.  
A function’s rate of change increases rapidly, then levels off. What does this say about \(f'\) and \(f''\)?

<details><summary><strong>Suggested Answer</strong></summary>
\(f'>0\) throughout. \(f''>0\) during the acceleration phase, then \(f''<0\) as growth slows. This is typical of logistic or saturation processes.
</details>

---

13.  
In an environmental time series, what does it mean if \(f''(t) < 0\) while \(f'(t) > 0\)?

<details><summary><strong>Suggested Answer</strong></summary>
The variable is increasing but at a slowing rate. Examples: warming lake approaching equilibrium, population nearing carrying capacity.
</details>

---

14.  
Suppose a function has an inflection point at \(x=5\). What does this tell you about system behavior on each side?

<details><summary><strong>Suggested Answer</strong></summary>
Concavity switches sign at 5. The system moves from accelerating to slowing change (or vice versa), marking a transition in dynamics.
</details>

---

15.  
Why is a vertical asymptote different from a point where the derivative is undefined?

<details><summary><strong>Suggested Answer</strong></summary>
A vertical asymptote means the function itself blows up to ±∞. A derivative can be undefined even when the function is finite (corners, cusps). These reflect different structural vs. behavioral limitations.
</details>

---

16.  
A streamflow model reaches a maximum at \(t=7\) hours. What does this say about the hydrologic process?

<details><summary><strong>Suggested Answer</strong></summary>
Before 7 hr, discharge increases; after, it decreases. This marks peak flow, when routing and inputs balance before recession dominates.
</details>

---

17.  
A derivative graph shows a long flat region where \(f'(x) \approx 0\). What might this indicate?

<details><summary><strong>Suggested Answer</strong></summary>
The system is experiencing very little change. Examples: midday temperature plateau, stable soil moisture, population near carrying capacity.
</details>

---

18.  
Why is the quadratic formula useful when analyzing derivatives?

<details><summary><strong>Suggested Answer</strong></summary>
Many derivatives simplify to quadratics. Finding extrema or inflection points requires solving \(f'=0\) or \(f''=0\), and the quadratic formula works even when factoring doesn’t.
</details>

---

19.  
If a function always has a small but positive derivative, how would you describe the shape?

<details><summary><strong>Suggested Answer</strong></summary>
It increases gradually with no peaks or sharp transitions. Examples include slow climate warming, gradual biomass growth, or long-term CO₂ trends.
</details>

---

20.  
A model has a horizontal asymptote at \(y=120\). What does this say about long-term system behavior?

<details><summary><strong>Suggested Answer</strong></summary>
The system approaches a stable upper limit, such as a carrying capacity, saturation level, or maximum equilibrium value.
</details>

---

21.  
A function has  
\[
\lim_{x\to\infty} f(x)=8.
\]  
What does this horizontal asymptote tell you about the long-term behavior of the system being modeled?

<details><summary><strong>Suggested Answer</strong></summary>
The system approaches and stabilizes around 8 as the input variable becomes very large. This represents a long-term equilibrium such as a carrying capacity, saturation point, or thermal equilibrium.
</details>

---

22.  
Given  
\[
f(x)=\frac{5x}{x-4},
\]  
identify the vertical asymptote and describe the behavior of the function as \(x\) approaches that asymptote from the left and from the right.

<details><summary><strong>Suggested Answer</strong></summary>
The vertical asymptote is at \(x=4\).  
As \(x\to 4^-\), the denominator is negative and very small, so \(f(x)\to -\infty\).  
As \(x\to 4^+\), the denominator is positive and very small, so \(f(x)\to +\infty\).
</details>

---

23.  
Explain the difference between approaching a horizontal asymptote from above vs. approaching it from below.  
What does each imply about the sign of the derivative for large \(x\)?

<details><summary><strong>Suggested Answer</strong></summary>
Approaching from above means the function is decreasing toward the asymptote, so \(f'(x) < 0\) for large \(x\).  
Approaching from below means the function is increasing toward the asymptote, so \(f'(x) > 0\) for large \(x\).
</details>

---

24.  
A function has two vertical asymptotes at \(x=-1\) and \(x=3\).  
What does this imply about the domain and structure of the graph?

<details><summary><strong>Suggested Answer</strong></summary>
The domain excludes \(x=-1\) and \(x=3\).  
The graph is broken into three disconnected pieces, each with potentially different behavior (increasing/decreasing, concavity, extrema), since the function cannot cross those asymptotes.
</details>

---

25.  
A rational function approaches the horizontal asymptote \(y=0\) as \(x\to\pm\infty\).  
Give a real-world environmental process that might behave this way.

<details><summary><strong>Suggested Answer</strong></summary>
Examples include pollutant concentration decaying toward zero, cooling curves approaching ambient temperature, radioactive decay processes, or stream velocity decreasing to near zero as flood waters recede.
</details>

---



## Practice Problems{-}



### **Problem 1 — Clean Cubic Example** {-}

Consider the function  
\[
f(x) = x^3 - 3x.
\]

Use derivatives and sign charts to analyze its behavior.


<details>
<summary><strong>Check 1st derivative</strong></summary>

\[
f'(x) = 3(x-1)(x+1).
\]

</details>


<details>
<summary><strong>Check critical points</strong></summary>

\[
f'(x)=0 \quad\Rightarrow\quad x=-1,\;1.
\]

</details>


<details>
<summary><strong>Check 2nd derivative</strong></summary>

\[
f''(x)=6x.
\]

</details>


<details>
<summary><strong>Check inflection point</strong></summary>

\[
f''(x)=0 \quad\Rightarrow\quad x=0.
\]

</details>


<details>
<summary><strong>Full solution</strong></summary>

Start with  
\[
f(x)=x^3 - 3x.
\]

**1. First derivative (with factoring)**  
\[
f'(x)=3x^2 - 3.
\]

Factor the derivative:
\[
3x^2 - 3 = 3(x^2 - 1) = 3(x-1)(x+1).
\]

**Critical points** solve  
\[
3(x-1)(x+1)=0 \quad\Rightarrow\quad x=-1,\;1.
\]

Sign of the derivative:
- For \(x<-1\): both factors negative → \(f'(x)>0\)  
- For \(-1<x<1\): one positive, one negative → \(f'(x)<0\)  
- For \(x>1\): both positive → \(f'(x)>0\)

So the function is:
- **Increasing** on \((-\infty,-1)\)  
- **Decreasing** on \((-1,1)\)  
- **Increasing** on \((1,\infty)\)

Thus:
- **Local maximum** at \(x=-1\)  
- **Local minimum** at \(x=1\)


**2. Second derivative (with factoring)**  
\[
f''(x)=6x.
\]

Solve \(f''(x)=0\):
\[
6x=0 \quad\Rightarrow\quad x=0.
\]

Sign of second derivative:
- \(f''(x)<0\) for \(x<0\) → concave down  
- \(f''(x)>0\) for \(x>0\) → concave up  

Thus \(x=0\) is an **inflection point**.



Putting together the behavior:

- Increasing → decreasing → increasing  
- Concave down for \(x<0\)  
- Concave up for \(x>0\)  
- Local max at \(x=-1\)  
- Local min at \(x=1\)  
- Inflection at \(x=0\)


```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# ------------------------
# Adjustable axis limits
# ------------------------
xlim <- c(-3, 3)     # or NULL
ylim <- NULL         # or NULL
# ------------------------

# Function
f <- function(x) x^3 - 3*x

# Critical points
crit1 <- -1
crit2 <- 1

# Inflection point
infl <- 0

# Build data for curve
x_vals <- seq(-3, 3, length.out = 2000)
df <- data.frame(
  x = x_vals,
  y = f(x_vals)
)

# Concavity shading: down → up
shade <- data.frame(
  xmin = c(min(x_vals), infl),
  xmax = c(infl, max(x_vals)),
  concavity = c("down", "up")
)

shade$fill <- ifelse(shade$concavity == "up", "lightblue", "moccasin")

p <- ggplot(df, aes(x, y)) +
  
  # shaded concavity regions
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin = xmin, xmax = xmax,
        ymin = -Inf, ymax = Inf,
        fill = fill),
    alpha = 0.25
  ) +
  scale_fill_identity() +
  
  # function curve
  geom_line(color = "steelblue", linewidth = 1.2) +
  
  # critical points
  geom_point(aes(x = crit1, y = f(crit1)), color = "firebrick", size = 3) +
  geom_point(aes(x = crit2, y = f(crit2)), color = "firebrick", size = 3) +
  
  annotate("text", x = crit1, y = f(crit1), label = "local max", vjust = -1) +
  annotate("text", x = crit2, y = f(crit2), label = "local min", vjust = -1) +
  
  # inflection
  geom_point(aes(x = infl, y = f(infl)), color = "darkgreen", size = 3) +
  annotate("text", x = infl, y = f(infl), label = "inflection", vjust = 1.5) +
  
  labs(
    title = "f(x) = x^3 - 3x",
    subtitle = "Shaded regions show concavity (blue = up, gold = down)",
    x = "x",
    y = "f(x)"
  ) +
  theme_minimal(base_size = 14)

# Apply axis limits if provided
if (!is.null(xlim) | !is.null(ylim)) {
  p <- p + coord_cartesian(xlim = xlim, ylim = ylim)
}

p

```




</details>


### **Problem 2 — Symmetric Quartic** {-}

Consider the function  
\[
f(x) = x^4 - 4x^2.
\]

Use derivatives and sign charts to analyze its behavior.


<details>
<summary><strong>Check 1st derivative</strong></summary>

\[
f'(x) = 4x(x^2 - 2).
\]

</details>


<details>
<summary><strong>Check critical points</strong></summary>

\[
x = 0,\quad x = \pm\sqrt{2}.
\]

</details>


<details>
<summary><strong>Check 2nd derivative</strong></summary>

\[
f''(x) = 4(3x^2 - 2).
\]

</details>


<details>
<summary><strong>Check inflection point</strong></summary>

\[
x = \pm\sqrt{\tfrac{2}{3}}.
\]

</details>


<details>
<summary><strong>Full solution</strong></summary>

Start with  
\[
f(x)=x^4 - 4x^2.
\]

**1. First derivative (with factoring)**  
\[
f'(x)=4x^3 - 8x = 4x(x^2 - 2).
\]

Critical points solve  
\[
4x(x^2 - 2) = 0 \quad\Rightarrow\quad x = 0,\; \pm\sqrt{2}.
\]

Sign of derivative:
- For \(x < -\sqrt{2}\): \(f'(x) < 0\)  
- For \(-\sqrt{2} < x < 0\): \(f'(x) > 0\)  
- For \(0 < x < \sqrt{2}\): \(f'(x) < 0\)  
- For \(x > \sqrt{2}\): \(f'(x) > 0\)

Thus:
- **Local max** at \(x = 0\)  
- **Local mins** at \(x = \pm\sqrt{2}\)

---

**2. Second derivative (with factoring)**  
\[
f''(x)=12x^2 - 8 = 4(3x^2 - 2).
\]

Solve  
\[
3x^2 - 2 = 0 \quad\Rightarrow\quad x = \pm\sqrt{\tfrac{2}{3}}.
\]

Concavity:
- **Down** for \(|x| < \sqrt{2/3}\)  
- **Up** for \(|x| > \sqrt{2/3}\)



```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# ------------------------
# Adjustable axis limits
# ------------------------
xlim <- c(-3, 3)     # or NULL
ylim <- c(-5,5)         # or NULL
# ------------------------

# Function
f <- function(x) x^4 - 4*x^2

# Critical points
crit0 <- 0
critL <- -sqrt(2)
critR <-  sqrt(2)

# Inflection points
inflL <- -sqrt(2/3)
inflR <-  sqrt(2/3)

# Build data for curve
x_vals <- seq(-3, 3, length.out = 2000)
df <- data.frame(
  x = x_vals,
  y = f(x_vals)
)

# Concavity shading: up → down → up
shade <- data.frame(
  xmin = c(min(x_vals), inflL, inflR),
  xmax = c(inflL, inflR, max(x_vals)),
  concavity = c("up","down","up")
)

shade$fill <- ifelse(shade$concavity == "up", "lightblue", "moccasin")

p <- ggplot(df, aes(x, y)) +
  
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin = xmin, xmax = xmax,
        ymin = -Inf, ymax = Inf,
        fill = fill),
    alpha = 0.25
  ) +
  scale_fill_identity() +
  
  geom_line(color = "steelblue", linewidth = 1.2) +
  
  geom_point(aes(x = crit0, y = f(crit0)), color = "firebrick", size = 3) +
  geom_point(aes(x = critL, y = f(critL)), color = "firebrick", size = 3) +
  geom_point(aes(x = critR, y = f(critR)), color = "firebrick", size = 3) +
  annotate("text", x = crit0, y = f(crit0), label = "local max", vjust = -1) +
  annotate("text", x = critL, y = f(critL), label = "local min", vjust = -1) +
  annotate("text", x = critR, y = f(critR), label = "local min", vjust = -1) +
  
  geom_point(aes(x = inflL, y = f(inflL)), color = "darkgreen", size = 3) +
  geom_point(aes(x = inflR, y = f(inflR)), color = "darkgreen", size = 3) +
  annotate("text", x = inflL, y = f(inflL), label = "inflection", vjust = 1.5) +
  annotate("text", x = inflR, y = f(inflR), label = "inflection", vjust = 1.5) +
  
  labs(
    title = "f(x) = x^4 - 4x^2",
    subtitle = "Shaded regions show concavity (blue = up, gold = down)",
    x = "x",
    y = "f(x)"
  ) +
  theme_minimal(base_size = 14)

# Apply axis limits if provided
if (!is.null(xlim) | !is.null(ylim)) {
  p <- p + coord_cartesian(xlim = xlim, ylim = ylim)
}


p

```

</details>



### **Problem 3 — Rational Function With Simple Roots** {-}

Consider the function  
\[
f(x) = \frac{x}{x^2 + 1}.
\]

Use derivatives and sign charts to analyze its behavior.


<details>
<summary><strong>Check 1st derivative</strong></summary>

\[
f'(x) = \frac{1 - x^2}{(x^2+1)^2}.
\]

</details>


<details>
<summary><strong>Check critical points</strong></summary>

\[
x = \pm 1.
\]

</details>


<details>
<summary><strong>Check 2nd derivative</strong></summary>

\[
f''(x) = \frac{-2x(x^2+3)}{(x^2+1)^3}.
\]

</details>


<details>
<summary><strong>Check inflection point</strong></summary>

\[
x = 0.
\]

</details>


<details>
<summary><strong>Full solution</strong></summary>

Start with  
\[
f(x)=\frac{x}{x^2+1}.
\]

---

**1. First derivative (with factoring)**  

Apply the quotient rule:

\[
f'(x)=\frac{(1)(x^2+1) - x(2x)}{(x^2+1)^2}
     = \frac{x^2+1 - 2x^2}{(x^2+1)^2}
     = \frac{1 - x^2}{(x^2+1)^2}.
\]

**Critical points** solve  
\[
1 - x^2 = 0 \quad\Rightarrow\quad x = \pm 1.
\]

Derivative sign:

- \(x < -1\): \(1 - x^2 < 0\) → decreasing  
- \(-1 < x < 1\): \(1 - x^2 > 0\) → increasing  
- \(x > 1\): \(1 - x^2 < 0\) → decreasing  

Thus:
- **Local min** at \(x=-1\)  
- **Local max** at \(x=1\)

---

**2. Second derivative (with factoring)**  

\[
f''(x) = \frac{-2x(x^2+3)}{(x^2+1)^3}.
\]

Set numerator to zero:

\[
-2x(x^2+3)=0.
\]

Since \(x^2+3 > 0\),  
\[
x = 0
\]
is the only inflection point.

Concavity:

- \(x < 0\): \(f''(x) > 0\) → concave up  
- \(x > 0\): \(f''(x) < 0\) → concave down  

---

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# ------------------------
# Adjustable axis limits
# ------------------------
xlim <- c(-3, 3)     # or NULL
ylim <- c(-1,1)       # or NULL
# ------------------------

f <- function(x) x/(x^2+1)

# Critical points
critL <- -1
critR <-  1

# Inflection point
infl <- 0

# Build data
x_vals <- seq(-3, 3, length.out = 2000)
df <- data.frame(x = x_vals, y = f(x_vals))

# Concavity shading: up → down
shade <- data.frame(
  xmin = c(min(x_vals), infl),
  xmax = c(infl, max(x_vals)),
  concavity = c("up","down")
)
shade$fill <- ifelse(shade$concavity=="up","lightblue","moccasin")

p <- ggplot(df, aes(x, y)) +
  
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin = xmin, xmax = xmax,
        ymin = -Inf, ymax = Inf,
        fill = fill),
    alpha = 0.25
  ) +
  scale_fill_identity() +
  
  geom_line(color = "steelblue", linewidth = 1.2) +
  
  geom_point(aes(x = critL, y = f(critL)), color = "firebrick", size = 3) +
  geom_point(aes(x = critR, y = f(critR)), color = "firebrick", size = 3) +
  annotate("text", x = critL, y = f(critL), label = "local min", vjust = -1) +
  annotate("text", x = critR, y = f(critR), label = "local max", vjust = -1) +
  
  geom_point(aes(x = infl, y = f(infl)), color = "darkgreen", size = 3) +
  annotate("text", x = infl, y = f(infl), label = "inflection", vjust = 1.5) +
  
  labs(
    title = "Challenge:  f(x)=x/(x^2+1)",
    subtitle = "Shaded regions show concavity (blue = up, gold = down)",
    x = "x",
    y = "f(x)"
  ) +
  theme_minimal(base_size = 14)

if (!is.null(xlim) | !is.null(ylim)) {
  p <- p + coord_cartesian(xlim = xlim, ylim = ylim)
}

p
```
</details>

### **Problem 4 — Exponential Product With Clean Factors** {-}

Consider the function  
\[
f(x) = x^2 e^{-x}.
\]

Use derivatives and sign charts to analyze its behavior.


<details>
<summary><strong>Check 1st derivative</strong></summary>

\[
f'(x) = e^{-x}x(2 - x).
\]

</details>


<details>
<summary><strong>Check critical points</strong></summary>

\[
x = 0,\quad x = 2.
\]

</details>


<details>
<summary><strong>Check 2nd derivative</strong></summary>

\[
f''(x) = e^{-x}(x^2 - 4x + 2).
\]

</details>


<details>
<summary><strong>Check inflection points</strong></summary>

\[
x = 2 \pm \sqrt{2}.
\]

</details>


<details>
<summary><strong>Full solution</strong></summary>

Start with  
\[
f(x)=x^2 e^{-x}.
\]

---

**1. First derivative (with factoring)**

Use the product rule:  
\[
f'(x) = (2x)e^{-x} + x^2(-e^{-x})
      = e^{-x}(2x - x^2)
      = e^{-x}x(2 - x).
\]

**Critical points** come from  
\[
e^{-x}x(2-x)=0.
\]

Since \(e^{-x} \neq 0\), solutions are  
\[
x=0,\quad x=2.
\]

Sign of \(f'(x)\):

- For \(x<0\): \(x<0\), \(2-x>0\) → negative → decreasing  
- For \(0<x<2\): positive × positive → positive → increasing  
- For \(x>2\): positive × negative → negative → decreasing  

Thus:
- **Local minimum** at \(x=0\)  
- **Local maximum** at \(x=2\)

---

**2. Second derivative (with factoring)**

Differentiate  
\[
f'(x)=e^{-x}(2x - x^2).
\]

Using product rule again:
\[
f''(x)=e^{-x}(-1)(2x - x^2) + e^{-x}(2 - 2x)
      = e^{-x}(x^2 - 4x + 2).
\]

Solve  
\[
x^2 - 4x + 2 = 0.
\]

Roots:
\[
x = 2 \pm \sqrt{2}.
\]

Concavity:

- **Up** on \((-\infty,\, 2-\sqrt{2})\)  
- **Down** on \((2-\sqrt{2},\, 2+\sqrt{2})\)  
- **Up** on \((2+\sqrt{2},\,\infty)\)

---

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# ------------------------
# Adjustable axis limits
# ------------------------
xlim <- c(-1, 6)     # or NULL
ylim <- c(-0.1,1)      # or NULL
# ------------------------

# Function
f <- function(x) x^2 * exp(-x)

# Critical points
crit1 <- 0
crit2 <- 2

# Inflection points
inflL <- 2 - sqrt(2)
inflR <- 2 + sqrt(2)

# Build data
x_vals <- seq(-1, 6, length.out = 2000)
df <- data.frame(x = x_vals, y = f(x_vals))

# Concavity shading: up → down → up
shade <- data.frame(
  xmin = c(min(x_vals), inflL, inflR),
  xmax = c(inflL, inflR, max(x_vals)),
  concavity = c("up","down","up")
)
shade$fill <- ifelse(shade$concavity=="up","lightblue","moccasin")

p <- ggplot(df, aes(x,y)) +
  
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin=xmin, xmax=xmax,
        ymin=-Inf, ymax=Inf,
        fill=fill),
    alpha=0.25
  ) +
  scale_fill_identity() +
  
  geom_line(color="steelblue", linewidth=1.2) +
  
  geom_point(aes(x=crit1, y=f(crit1)), color="firebrick", size=3) +
  geom_point(aes(x=crit2, y=f(crit2)), color="firebrick", size=3) +
  annotate("text", x=crit1, y=f(crit1), label="local min", vjust=-1) +
  annotate("text", x=crit2, y=f(crit2), label="local max", vjust=-1) +
  
  geom_point(aes(x=inflL, y=f(inflL)), color="darkgreen", size=3) +
  geom_point(aes(x=inflR, y=f(inflR)), color="darkgreen", size=3) +
  annotate("text", x=inflL, y=f(inflL), label="inflection", vjust=1.5) +
  annotate("text", x=inflR, y=f(inflR), label="inflection", vjust=1.5) +
  
  labs(
    title="Challenge:  f(x) = x^2 e^{-x}",
    subtitle="Shaded regions show concavity (blue = up, gold = down)",
    x="x",
    y="f(x)"
  ) +
  theme_minimal(base_size=14)

if (!is.null(xlim) | !is.null(ylim)) {
  p <- p + coord_cartesian(xlim=xlim, ylim=ylim)
}

p
```
</details>

### **Problem 5 — Logarithm With Symmetry** {-}

Consider the function  
\[
f(x) = \ln(x^2 + 1).
\]

Use derivatives and sign charts to analyze its behavior.


<details>
<summary><strong>Check 1st derivative</strong></summary>

\[
f'(x)=\frac{2x}{x^2+1}.
\]

</details>


<details>
<summary><strong>Check critical points</strong></summary>

\[
f'(x)=0 \quad\Rightarrow\quad x=0.
\]

</details>


<details>
<summary><strong>Check 2nd derivative</strong></summary>

\[
f''(x)=\frac{2(1 - x^2)}{(x^2+1)^2}.
\]

</details>


<details>
<summary><strong>Check inflection points</strong></summary>

\[
x = \pm 1.
\]

</details>


<details>
<summary><strong>Full solution</strong></summary>

Start with  
\[
f(x)=\ln(x^2+1).
\]

---

**1. First derivative (with factoring)**

Use chain rule:  
\[
f'(x)=\frac{1}{x^2+1}\cdot 2x = \frac{2x}{x^2+1}.
\]

Critical point from  
\[
\frac{2x}{x^2+1}=0 \quad\Rightarrow\quad x=0.
\]

Sign of \(f'(x)\):
- For \(x<0\): numerator negative → decreasing  
- For \(x>0\): numerator positive → increasing  

Thus the function is:
- **Decreasing** on \((-\infty,0)\)  
- **Increasing** on \((0,\infty)\)

So \(x=0\) is a **local minimum**.

---

**2. Second derivative (with factoring)**

Differentiate  
\[
f'(x)=\frac{2x}{x^2+1}.
\]

Using quotient rule:
\[
f''(x)=\frac{2(x^2+1) - 2x(2x)}{(x^2+1)^2}
      =\frac{2 - 2x^2}{(x^2+1)^2}
      =\frac{2(1-x^2)}{(x^2+1)^2}.
\]

Solve  
\[
1 - x^2 = 0 \quad\Rightarrow\quad x=\pm 1.
\]

Concavity:
- For \(|x|<1\): \(1-x^2>0\) → concave up  
- For \(|x|>1\): \(1-x^2<0\) → concave down  

Thus \(x=\pm 1\) are **inflection points**.

---

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# ------------------------
# Adjustable axis limits
# ------------------------
xlim <- c(-4, 4)     # or NULL
ylim <- c(-0.1,1)         # or NULL
# ------------------------

# Function
f <- function(x) log(x^2 + 1)

# Critical point
crit <- 0

# Inflection points
inflL <- -1
inflR <- 1

# Build data
x_vals <- seq(-4, 4, length.out = 2000)
df <- data.frame(x = x_vals, y = f(x_vals))

# Concavity shading: down → up → down
shade <- data.frame(
  xmin = c(min(x_vals), inflL, inflR),
  xmax = c(inflL, inflR, max(x_vals)),
  concavity = c("down","up","down")
)
shade$fill <- ifelse(shade$concavity=="up","lightblue","moccasin")

p <- ggplot(df, aes(x,y)) +
  
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin=xmin, xmax=xmax, ymin=-Inf, ymax=Inf, fill=fill),
    alpha=0.25
  ) +
  scale_fill_identity() +
  
  geom_line(color="steelblue", linewidth=1.2) +
  
  geom_point(aes(x=crit, y=f(crit)), color="firebrick", size=3) +
  annotate("text", x=crit, y=f(crit), label="local min", vjust=-1) +
  
  geom_point(aes(x=inflL, y=f(inflL)), color="darkgreen", size=3) +
  geom_point(aes(x=inflR, y=f(inflR)), color="darkgreen", size=3) +
  annotate("text", x=inflL, y=f(inflL), label="inflection", vjust=1.5) +
  annotate("text", x=inflR, y=f(inflR), label="inflection", vjust=1.5) +
  
  labs(
    title="Challenge:  f(x) = ln(x^2 + 1)",
    subtitle="Shaded regions show concavity (blue = up, gold = down)",
    x="x",
    y="f(x)"
  ) +
  theme_minimal(base_size=14)

if (!is.null(xlim) | !is.null(ylim)) {
  p <- p + coord_cartesian(xlim=xlim, ylim=ylim)
}

p
```
</details>

### **Problem 6 — Rational Function With a Vertical Asymptote** {-}

Consider the function  
\[
f(x) = \frac{x^2 - 1}{x - 2}.
\]

Use derivatives, sign charts, and asymptotes to analyze its behavior.


<details>
<summary><strong>Check 1st derivative</strong></summary>

\[
f'(x)=\frac{x^2 - 4x + 1}{(x-2)^2}.
\]

</details>


<details>
<summary><strong>Check critical points</strong></summary>

\[
x = 2 \pm \sqrt{3}.
\]

</details>


<details>
<summary><strong>Check 2nd derivative</strong></summary>

\[
f''(x)=\frac{6}{(x-2)^3}.
\]

</details>


<details>
<summary><strong>Check inflection points</strong></summary>

None — concavity switches *only* across the asymptote.

</details>


<details>
<summary><strong>Full solution</strong></summary>

We analyze  
\[
f(x)=\frac{x^2 - 1}{x - 2}.
\]

 **1. Domain and asymptote**

The denominator is zero at  
\[
x = 2,
\]  
so the domain is all real numbers except \(x=2\).  
Thus there is a **vertical asymptote at \(x=2\)**.

 **2. First derivative (with factoring)**

Quotient rule gives  
\[
f'(x)=\frac{x^2 - 4x + 1}{(x-2)^2}.
\]

Critical points come from the numerator:

\[
x^2 - 4x + 1=0
\quad\Rightarrow\quad
x = 2 \pm \sqrt{3}.
\]

The derivative is undefined at the vertical asymptote \(x=2\).

 **3. Second derivative (with factoring)**

\[
f''(x)=\frac{6}{(x-2)^3}.
\]

Sign analysis:

- For \(x<2\): denominator \(<0\) → \(f''(x)<0\) → **concave down**
- For \(x>2\): denominator \(>0\) → \(f''(x)>0\) → **concave up**

No inflection points occur *within* a domain interval — concavity only changes *across* the asymptote.

 **4. Behavior near the vertical asymptote**

To determine the direction of blow-up, compute limits from both sides.



 **Left-hand limit (approach from below)**

As \(x\to 2^-\):

- Numerator \(x^2 - 1 \to 3\) (positive)
- Denominator \(x - 2 \to 0^-\) (negative)

Thus  
\[
\lim_{x\to 2^-} f(x) = \frac{3}{0^-} = -\infty.
\]

 **Right-hand limit (approach from above)**

As \(x\to 2^+\):

- Numerator still \(x^2 - 1 \to 3\)
- Denominator \(x - 2 \to 0^+\) (positive)

Thus  
\[
\lim_{x\to 2^+} f(x) = \frac{3}{0^+} = +\infty.
\]

 **5. Summary of behavior**

- Vertical asymptote at **\(x=2\)**  
  - \(f(x)\to -\infty\) as \(x\to 2^-\)  
  - \(f(x)\to +\infty\) as \(x\to 2^+\)  

- Critical points at  
  \[
  x=2-\sqrt{3},\quad x=2+\sqrt{3}.
  \]

- Concavity:
  - Down on \((-\infty, 2)\)
  - Up on \((2, \infty)\)

---


```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# ------------------------
# Adjustable axis limits
# ------------------------
xlim <- c(-2, 6)     # or NULL
ylim <- c(-10, 10)         # or NULL
# ------------------------

# Function
f <- function(x) (x^2 - 1)/(x - 2)

# Critical points
crit1 <- 2 - sqrt(3)
crit2 <- 2 + sqrt(3)

# Build domain pieces (split at asymptote)
x_vals_left  <- seq(xlim[1], 1.99, length.out=1500)
x_vals_right <- seq(2.01, xlim[2], length.out=1500)

df_left  <- data.frame(x = x_vals_left,  y = f(x_vals_left))
df_right <- data.frame(x = x_vals_right, y = f(x_vals_right))

# Concavity shading
shade <- data.frame(
  xmin = c(xlim[1], 2.01),
  xmax = c(1.99,    xlim[2]),
  concavity = c("down","up")
)
shade$fill <- ifelse(shade$concavity=="up","lightblue","moccasin")

p <- ggplot() +
  geom_rect(
    data=shade,
    inherit.aes=FALSE,
    aes(xmin=xmin, xmax=xmax, ymin=-Inf, ymax=Inf, fill=fill),
    alpha=0.25
  ) +
  scale_fill_identity() +
  
  geom_line(data=df_left,  aes(x,y), color="steelblue", linewidth=1.2) +
  geom_line(data=df_right, aes(x,y), color="steelblue", linewidth=1.2) +
  
  geom_vline(xintercept=2, linetype="dashed", color="firebrick") +
  annotate("text", x=2, y=0, label="VA", vjust=-1) +
  
  geom_point(aes(x=crit1, y=f(crit1)), color="purple", size=3) +
  geom_point(aes(x=crit2, y=f(crit2)), color="purple", size=3) +
  annotate("text", x=crit1, y=f(crit1), label="critical", vjust=-1) +
  annotate("text", x=crit2, y=f(crit2), label="critical", vjust=-1) +
  
  labs(
    title="Challenge:  f(x) = (x^2 - 1)/(x - 2)",
    subtitle="Vertical asymptote at x = 2; concave down (left), concave up (right)",
    x="x",
    y="f(x)"
  ) +
  theme_minimal(base_size=14)

if (!is.null(xlim) | !is.null(ylim)) {
  p <- p + coord_cartesian(xlim=xlim, ylim=ylim)
}

p
```
</details>



### **Problem 7 — Rational Function With Two Vertical Asymptotes** {-}

Consider the function  
\[
f(x) = \frac{1}{x(x-2)}.
\]

Use derivatives, sign charts, and asymptotes to analyze its behavior.


<details>
<summary><strong>Check 1st derivative</strong></summary>

\[
f'(x)= -\frac{2(x-1)}{x^2(x-2)^2}.
\]

</details>


<details>
<summary><strong>Check critical points</strong></summary>

\[
x = 1.
\]

</details>


<details>
<summary><strong>Check 2nd derivative</strong></summary>

\[
f''(x)=\frac{2(3x^2 - 6x + 4)}{x^3 (x-2)^3}.
\]

</details>


<details>
<summary><strong>Check inflection points</strong></summary>

Solve  
\[
3x^2 - 6x + 4 = 0
\]

No REAL roots

</details>


<details>
<summary><strong>Full solution</strong></summary>

We analyze  
\[
f(x)=\frac{1}{x(x-2)}.
\]

The denominator is zero at  
\[
x = 0,\qquad x = 2,
\]
so these produce vertical asymptotes and the domain is  
\[
(-\infty,0)\;\cup\;(0,2)\;\cup\;(2,\infty).
\]

To compute the first derivative, rewrite the function as  
\[
f(x)=[x(x-2)]^{-1}.
\]
Differentiating gives  
\[
f'(x)=-(x(x-2))^{-2}(2x-2)
      =-\frac{2(x-1)}{x^2(x-2)^2}.
\]
Critical points come from the numerator:
\[
-2(x-1)=0 \quad\Rightarrow\quad x=1.
\]
The derivative is undefined at the vertical asymptotes.

The second derivative is  
\[
f''(x)=\frac{2(3x^2 - 6x + 4)}{x^3 (x-2)^3}.
\]
Second-derivative critical points solve  
\[
3x^2 - 6x + 4=0.
\]
Using the quadratic formula,
\[
x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}
  =\frac{6\pm\sqrt{36-48}}{6}
  =\frac{6\pm\sqrt{-12}}{6}.
\]
Because the discriminant is negative, the numerator never equals zero, so there are **no real inflection points** from the second derivative. Concavity changes only when crossing the asymptotes since the denominator changes sign there.

To understand the behavior near \(x=0\):

As \(x\to 0^-:\)  
denominator \(0^-\cdot(-2)=0^+\), so  
\[
\lim_{x\to 0^-} f(x)=+\infty.
\]

As \(x\to 0^+:\)  
denominator \(0^+\cdot(-2)=0^-\), so  
\[
\lim_{x\to 0^+} f(x)=-\infty.
\]

At \(x=2\):

As \(x\to 2^-:\)  
\((2^-)(0^-)=0^{+}\), so  
\[
\lim_{x\to 2^-} f(x)=+\infty.
\]

As \(x\to 2^+:\)  
\((2^+)(0^+)=0^{+}\), so  
\[
\lim_{x\to 2^+} f(x)=+\infty.
\]

For the horizontal asymptotes, note that  
\[
f(x)=\frac1{x(x-2)}\sim \frac1{x^2}
\]
as \(x\to\pm\infty\).
Thus  
\[
\lim_{x\to\pm\infty} f(x)=0,
\]
so the horizontal asymptote is  
\[
y=0.
\]

In summary:

- Vertical asymptotes at \(x=0\) and \(x=2\).  
- Horizontal asymptote \(y=0\).  
- One critical point from the first derivative at \(x=1.\)  
- No real inflection points because the quadratic in the numerator of \(f''\) has no real roots.  
- Concavity changes only across asymptotes, due to the denominator’s sign.


```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# ------------------------
# Adjustable axis limits
# ------------------------
xlim <- c(-2, 4)
ylim <- c(-6, 6)
# ------------------------

# Function
f <- function(x) 1/(x*(x-2))

# First derivative critical point
crit <- 1

# "Inflection" points = sign changes in f'' across asymptotes
infl1 <- 0.5   # chosen to match visual midpoint between 0 and 1
infl2 <- 1.5   # chosen to match midpoint between 1 and 2

# Domain split at asymptotes 0 and 2
x_left   <- seq(xlim[1], -0.01, length.out = 1200)
x_mid    <- seq(0.01, 1.99,  length.out = 1200)
x_right  <- seq(2.01, xlim[2], length.out = 1200)

df_left  <- data.frame(x = x_left,  y = f(x_left))
df_mid   <- data.frame(x = x_mid,   y = f(x_mid))
df_right <- data.frame(x = x_right, y = f(x_right))

# Concavity shading:
# (-∞,0) concave down
# (0,2) concave up
# (2,∞) concave up
shade <- data.frame(
  xmin = c(xlim[1],   0.01,   2.01),
  xmax = c(-0.01,     1.99,   xlim[2]),
  concavity = c("down","up","up")
)
shade$fill <- ifelse(shade$concavity=="up","lightblue","moccasin")

p <- ggplot() +
  geom_rect(
    data=shade,
    inherit.aes=FALSE,
    aes(xmin=xmin, xmax=xmax, ymin=-Inf, ymax=Inf, fill=fill),
    alpha=0.25
  ) +
  scale_fill_identity() +
  
  geom_line(data=df_left,  aes(x,y), color="steelblue", linewidth=1.2) +
  geom_line(data=df_mid,   aes(x,y), color="steelblue", linewidth=1.2) +
  geom_line(data=df_right, aes(x,y), color="steelblue", linewidth=1.2) +
  
  # Vertical asymptotes
  geom_vline(xintercept=0, linetype="dashed", color="firebrick", linewidth=1) +
  geom_vline(xintercept=2, linetype="dashed", color="firebrick", linewidth=1) +
  annotate("text", x=0, y=0, label="VA", vjust=-1.2, color="firebrick") +
  annotate("text", x=2, y=0, label="VA", vjust=-1.2, color="firebrick") +
  
  # Critical point label
  geom_point(aes(x=crit, y=f(crit)), color="purple", size=3) +
  annotate("text", x=crit, y=f(crit), label="critical", vjust=-1.2, color="purple") +
  
 
  labs(
    title="Challenge:  f(x) = 1 / (x(x - 2))",
    subtitle="Two vertical asymptotes at x = 0 and x = 2",
    x="x", y="f(x)"
  ) +
  theme_minimal(base_size=14)

if (!is.null(xlim) | !is.null(ylim)) {
  p <- p + coord_cartesian(xlim=xlim, ylim=ylim)
}

p


```


</details>

### **Problem 8 — Logistic-Style Function With Two Horizontal Asymptotes** {-}

Consider the function  
\[
f(x)=\frac{80}{1+3e^{-0.5x}}.
\]

Use derivatives and asymptotes to analyze its behavior.

---

<details>
<summary><strong>Check 1st derivative</strong></summary>

\[
f'(x)=\frac{120e^{-0.5x}}{(1+3e^{-0.5x})^2}.
\]

</details>

<details>
<summary><strong>Check critical points</strong></summary>

The derivative is always positive.  
\[
\text{No critical points (always increasing).}
\]

</details>

<details>
<summary><strong>Check 2nd derivative</strong></summary>

\[
f''(x)=\frac{60e^{-0.5x}(3e^{-0.5x}-1)}{(1+3e^{-0.5x})^3}.
\]

</details>

<details>
<summary><strong>Check inflection point</strong></summary>

Solve  
\[
3e^{-0.5x}-1=0.
\]

\[
e^{-0.5x}=\tfrac13.
\]

\[
x = 2\ln(3).
\]

</details>

<details>
<summary><strong>Check horizontal asymptotes</strong></summary>

\[
\lim_{x\to-\infty} f(x)=0,
\qquad
\lim_{x\to+\infty} f(x)=80.
\]

Horizontal asymptotes:
\[
y=0, \qquad y=80.
\]

</details>

<details>
<summary><strong>Full solution</strong></summary>

We analyze  
\[
f(x)=\frac{80}{1+3e^{-0.5x}}.
\]

Rewrite the function as  
\[
f(x)=80(1+3e^{-0.5x})^{-1}.
\]

Differentiate:

\[
f'(x)=80(-1)(1+3e^{-0.5x})^{-2}\cdot(3e^{-0.5x}\cdot -0.5)
     =\frac{120e^{-0.5x}}{(1+3e^{-0.5x})^2}.
\]

Since all factors are positive,  
\[
f'(x) > 0
\]
for every real \(x\).  
Thus the function is always increasing and has no local maxima or minima.

Differentiate again:

\[
f''(x)=\frac{60e^{-0.5x}(3e^{-0.5x}-1)}{(1+3e^{-0.5x})^3}.
\]

Set the numerator equal to zero:

\[
3e^{-0.5x}-1=0
\]

\[
e^{-0.5x}=\tfrac13
\]

\[
x = 2\ln(3).
\]

For \(e^{-0.5x} > \frac13\), the graph is concave up;  
for \(e^{-0.5x} < \frac13\), the graph is concave down.

As \(x\to -\infty\):

- \(e^{-0.5x}\to\infty\), denominator → ∞  
- \[
  f(x)\to 0.
  \]

As \(x\to +\infty\):

- \(e^{-0.5x}\to 0\), denominator → 1  
- \[
  f(x)\to 80.
  \]

Thus the function is an increasing logistic curve with a lower horizontal asymptote at \(y=0\) and an upper horizontal asymptote at \(y=80\), switching concavity at the point \(x = 2\ln 3\).

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# Adjustable axis limits
xlim <- c(-8, 10)
ylim <- c(-5, 85)

# Function
f <- function(x) 80 / (1 + 3*exp(-0.5*x))

# Inflection point
infl <- 2 * log(3)

# Build data
x_vals <- seq(xlim[1], xlim[2], length.out = 2000)
df <- data.frame(
  x = x_vals,
  y = f(x_vals)
)

# Concavity shading:
# f''(x) proportional to (3e^{-0.5x} - 1)
shade <- data.frame(
  xmin = c(xlim[1], infl),
  xmax = c(infl, xlim[2]),
  concavity = c("up", "down")
)
shade$fill <- ifelse(shade$concavity=="up", "lightblue", "moccasin")

p <- ggplot(df, aes(x, y)) +
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin=xmin, xmax=xmax,
        ymin=-Inf, ymax=Inf,
        fill=fill),
    alpha=0.25
  ) +
  scale_fill_identity() +
  
  geom_line(color="steelblue", linewidth=1.2) +
  
  geom_point(aes(x=infl, y=f(infl)), color="darkgreen", size=3) +
  annotate("text", x=infl, y=f(infl), label="inflection", vjust=-1.2) +
  
  geom_hline(yintercept=0, linetype="dashed", color="firebrick") +
  annotate("text", x=xlim[1]+1, y=0, label="HA: y=0", vjust=-1.2) +
  
  geom_hline(yintercept=80, linetype="dashed", color="firebrick") +
  annotate("text", x=xlim[1]+1, y=80, label="HA: y=80", vjust=-1.2) +
  
  labs(
    title="f(x) = 80 / (1 + 3 e^{-0.5x})",
    subtitle="Logistic curve with two horizontal asymptotes",
    x="x",
    y="f(x)"
  ) +
  theme_minimal(base_size=14)

p + coord_cartesian(xlim=xlim, ylim=ylim)
```




</details>

### **Challenge 1 — Rational Function ** {-}

Consider the function  
\[
f(x) = \frac{x^2 - 1}{x^2 + 1}.
\]

Analyze the first derivative, second derivative, critical points, and inflection points.

<details>
<summary><strong>Check 1st derivative</strong></summary>

\[
f'(x) = \frac{4x}{(x^2+1)^2}.
\]

</details>



<details>
<summary><strong>Check critical points</strong></summary>

Critical points solve \(f'(x)=0\):

\[
4x = 0 \quad\Rightarrow\quad x = 0.
\]

</details>



<details>
<summary><strong>Check 2nd derivative</strong></summary>

\[
f''(x) = 4\frac{1 - 3x^2}{(x^2+1)^3}.
\]

</details>



<details>
<summary><strong>Check inflection points</strong></summary>

Solve \(1 - 3x^2 = 0\):

\[
x = \pm \frac{1}{\sqrt{3}}.
\]

</details>



<details>
<summary><strong>Full solution</strong></summary>

We analyze  
\[
f(x)=\frac{x^2 - 1}{x - 2}.
\]

**1. Domain and asymptote**

\[
x - 2 = 0 \quad\Rightarrow\quad x = 2.
\]

Thus the domain is  
\[
(-\infty,2)\cup(2,\infty),
\]
with a **vertical asymptote at \(x=2\)**.

 **2. First derivative (with factoring)**

Using the quotient rule:

\[
f'(x)=\frac{(2x)(x-2) - (x^2 - 1)(1)}{(x-2)^2}.
\]

Expand the numerator:

\[
2x(x-2)=2x^2 - 4x,
\]

Subtract the second term:

\[
2x^2 - 4x - (x^2 - 1)
= x^2 - 4x + 1.
\]

So the derivative is  
\[
f'(x)=\frac{x^2 - 4x + 1}{(x-2)^2}.
\]

 **How the critical points were found**

Critical points occur when the derivative equals zero **and is defined**.

The denominator \((x-2)^2\) is never zero except at \(x=2\), where the function is undefined.  
So we only solve the numerator:

\[
x^2 - 4x + 1 = 0.
\]

Apply the quadratic formula:

\[
x=\frac{4 \pm \sqrt{(-4)^2 - 4(1)(1)}}{2}
  =\frac{4 \pm \sqrt{16 - 4}}{2}
  =\frac{4 \pm \sqrt{12}}{2}
  =\frac{4 \pm 2\sqrt{3}}{2}
  =2 \pm \sqrt{3}.
\]

Thus the critical points are:

\[
x=2-\sqrt{3},\qquad x=2+\sqrt{3}.
\]

Because the derivative does not exist at \(x=2\), that point is **not** a critical point.

 **3. Second derivative**

We start with  
\[
f'(x)=\frac{x^2 - 4x + 1}{(x-2)^2}.
\]

Using the quotient rule again:

\[
f''(x)=\frac{6}{(x-2)^3}.
\]

(Steps omitted here since they were checked previously.)

Sign of \(f''(x)\):

- For \(x<2\): denominator negative → **concave down**  
- For \(x>2\): denominator positive → **concave up**

Concavity switches across the vertical asymptote, not within the domain, so there are **no inflection points**.


**4. Limits at the vertical asymptote**

**Left-hand limit:**
\[
\lim_{x\to 2^-} f(x)
=\frac{x^2 - 1}{x - 2}
=\frac{3}{0^-}
=-\infty.
\]

**Right-hand limit:**
\[
\lim_{x\to 2^+} f(x)
=\frac{3}{0^+}
=+\infty.
\]

Thus:

- \(f(x)\to -\infty\) from the **left** of the asymptote  
- \(f(x)\to +\infty\) from the **right** of the asymptote  


**5. Summary**

- Vertical asymptote at \(x=2\)  
- Critical points at \(x = 2\pm\sqrt{3}\)  
- Concave down on \((-\infty,2)\), concave up on \((2,\infty)\)  
- Behavior flips dramatically across the asymptote


```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

# ------------------------
# Adjustable axis limits
# ------------------------
xlim <- c(-2, 4.5)   # or NULL
ylim <- c(-0.5, 5) # or NULL
# ------------------------

# Challenge 4 function
f <- function(x) exp(x) / (x^2 + 1)

# Inflection points
infl1 <- 2 - sqrt(3)    # ≈ 0.268
infl2 <- 1              # flat point + inflection
infl3 <- 2 + sqrt(3)    # ≈ 3.732

# Build data for the curve
x_vals <- seq(-2, 5, length.out = 2000)
df <- data.frame(
  x = x_vals,
  y = f(x_vals)
)

# Concavity shading: down → up → down → up
shade <- data.frame(
  xmin = c(-2,    infl1, infl2, infl3),
  xmax = c(infl1, infl2, infl3, 5),
  concavity = c("down", "up", "down", "up")
)

shade$fill <- ifelse(shade$concavity == "up", "lightblue", "moccasin")

p <- ggplot(df, aes(x, y)) +
  
  geom_rect(
    data = shade,
    inherit.aes = FALSE,
    aes(xmin = xmin, xmax = xmax,
        ymin = -Inf, ymax = Inf,
        fill = fill),
    alpha = 0.25
  ) +
  scale_fill_identity() +
  
  geom_line(color = "steelblue", linewidth = 1.2) +
  
  geom_point(aes(x = infl1, y = f(infl1)), color = "darkgreen", size = 3) +
  geom_point(aes(x = infl2, y = f(infl2)), color = "darkgreen", size = 3) +
  geom_point(aes(x = infl3, y = f(infl3)), color = "darkgreen", size = 3) +
  
  annotate("text", x = infl1, y = f(infl1), label = "inflection", vjust = 1.5) +
  annotate("text", x = infl2, y = f(infl2), label = "inflection", vjust = 1.5) +
  annotate("text", x = infl3, y = f(infl3), label = "inflection", vjust = 1.5) +
  
  geom_point(aes(x = 1, y = f(1)), color = "firebrick", size = 3) +
  annotate("text", x = 1, y = f(1), label = "flat point", vjust = -1) +
  
  labs(
    title = "f(x) = e^x / (x^2 + 1)",
    subtitle = "Concavity shading (blue = up, gold = down)",
    x = "x",
    y = "f(x)"
  ) +
  
  theme_minimal(base_size = 14)

# Apply adjustable limits if provided
if (!is.null(xlim) | !is.null(ylim)) {
  p <- p + coord_cartesian(xlim = xlim, ylim = ylim)
}

p
```
</details>




## Practice Test — Sign Charts & Applications {-}

This practice set mirrors the structure of your problems on the test:

1. **Section A** — Extrema from a factored first derivative  
2. **Section B** — Sign charts + sketching using \(f'\) and \(f''\)  
3. **Section C** — Asymptotes, extrema, concavity and sketching

Work through each table as if each row were its own problem.

---

#### **Section A — Extrema from a Factored First Derivative (Practice)**{-}

Use the provided factored derivative to:

- Identify critical points  
- Create a **first-derivative sign chart**  
- Classify each critical point (local max/min/neither)

| Function | Factored Derivative \(f'(x)\) |
|---------|-------------------------------|
| \(f_1(x)\) | \(f_1'(x)=e^{x}(x-1)(x+4)\) | 
| \(f_2(x)\) | \(f_2'(x)=-(x+2)(x-5)(x-1)\) | 
| \(f_3(x)\) | \(f_3'(x)=\dfrac{(x+3)(x-2)}{(x^2+1)}\) |

---

<details>
<summary><strong>Solution Key Section A (click to expand)</strong></summary>

<br>


For each function we:

- Identify critical points  
- Build a sign chart  
- Classify each point  

---

**✔ Function \(f_1(x)\)**  
\[
f_1'(x)=e^{x}(x-1)(x+4)
\]

**Critical points:**  
\[
x=-4,\qquad x=1
\]

**Sign chart:**

| Interval | Sign of \(f_1'(x)\) | Behavior |
|---------|----------------------|----------|
| \(x<-4\) | \((-)(-)=+\) → \(+\) | Increasing |
| \(-4<x<1\) | \((+)(-)= -\) | Decreasing |
| \(x>1\) | \((+)(+)=+\) | Increasing |

**Classification:**  
- At \(x=-4\): **increasing → decreasing** → **local max**  
- At \(x=1\): **decreasing → increasing** → **local min**

---

**✔ Function \(f_2(x)\)**  
\[
f_2'(x)=-(x+2)(x-5)(x-1)
\]

Critical points:  
\[
x=-2,\quad x=1,\quad x=5
\]

Sign chart (including the leading negative):

| Interval | Sign of product | After negative sign | Behavior |
|----------|-----------------|----------------------|----------|
| \(x<-2\) | \((-)(-)(-)= -\) | \(+\) | Increasing |
| \(-2<x<1\) | \((+)(-)(-)=+\) | \( -\) | Decreasing |
| \(1<x<5\) | \((+)(-)(+)= -\) | \(+\) | Increasing |
| \(x>5\) | \((+)(+)(+)=+\) | \(-\) | Decreasing |

Classification:

- \(x=-2\): **inc → dec** → **local max**  
- \(x=1\): **dec → inc** → **local min**  
- \(x=5\): **inc → dec** → **local max**

---

**✔ Function \(f_3(x)\)**  
\[
f_3'(x)=\frac{(x+3)(x-2)}{x^2+1}
\]

Denominator always positive → sign from numerator only.

Critical points:
\[
x=-3,\qquad x=2
\]

Sign chart:

| Interval | Sign of numerator | Behavior |
|----------|-------------------|----------|
| \(x<-3\) | \((-)(-)=+\) | Increasing |
| \(-3<x<2\) | \((+)(-)= -\) | Decreasing |
| \(x>2\) | \((+)(+)=+\) | Increasing |

Classification:

- \(x=-3\): **local max**  
- \(x=2\): **local min**

---

</details>

#### **Section B — Sign Charts & Sketching from \(f'\) and \(f''\)**{-}

For each function, use the given derivatives to:

- Find and classify critical points  
- Determine intervals of increasing/decreasing  
- Determine concavity  
- Sketch a **possible** graph of the function  

| Function | First Derivative \(f'(x)\) | Second Derivative \(f''(x)\) |
|----------|-----------------------------|-------------------------------|
| \(g_1(x)\) | \(g_1'(x)= (x-2)(x+1)\) | \(g_1''(x)=2x-3\) |
| \(g_2(x)\) | \(g_2'(x)= x(x+5)\) | \(g_2''(x)=2x+5\) |
| \(g_3(x)\) | \(g_3'(x)= (x-4)(x-1)(x+2)\) | \(g_3''(x)=3x^2-6\) |

---

<details>
<summary><strong>Solution Key Section B (click to expand)</strong></summary>

<br>

**✔ Function \(g_1(x)\)**  
\[
g_1'(x)= (x-2)(x+1),\qquad g_1''(x)=2x-3
\]

**Critical points:**  
\[
x=-1,\quad x=2
\]

First derivative sign chart:

- \(x<-1\): inc  
- \(-1<x<2\): dec  
- \(x>2\): inc

→ **Local max at \(-1\)**  
→ **Local min at \(2\)**  

Second derivative:

\[
g_1''(x)=0 \Rightarrow x=\frac{3}{2}=1.5
\]

Concavity:

- \(x<1.5\): \(g_1''<0\) → concave **down**  
- \(x>1.5\): concave **up**

Sketch structure:

- Peak at \(-1\)  
- Valley at \(2\)  
- Concave down until \(1.5\), concave up afterward  

---

**✔ Function \(g_2(x)\)**  
\[
g_2'(x)= x(x+5),\qquad g_2''(x)=2x+5
\]

Critical points:  
\[
x=0,\quad x=-5
\]

Sign chart:

- \(x<-5\): inc  
- \(-5<x<0\): dec  
- \(x>0\): inc  

→ Local max at \(x=-5\)  
→ Local min at \(x=0\)

Second derivative:

\[
g_2''(x)=0 \Rightarrow x=-\frac52=-2.5
\]

Concavity:

- \(x<-2.5\): concave down  
- \(x>-2.5\): concave up  

Sketch:

A classic peak → valley → rising curve.

---

**✔ Function \(g_3(x)\)**  
\[
g_3'(x)= (x-4)(x-1)(x+2),\qquad g_3''(x)=3x^2-6
\]

Critical points:  
\[
x=-2,\quad x=1,\quad x=4
\]

Sign chart:

- \(x<-2\): decreasing  
- \(-2<x<1\): increasing  
- \(1<x<4\): decreasing  
- \(x>4\): increasing  

→ Local **min** at \(-2\)  
→ Local **max** at \(1\)  
→ Local **min** at \(4\)

Second derivative:

\[
g_3''(x)=0 \Rightarrow 3x^2-6=0 \Rightarrow x=\pm \sqrt{2}
\]

Concavity:

- \(x<-\sqrt2\): up  
- \(-\sqrt2<x<\sqrt2\): down  
- \(x>\sqrt2\): up  

Sketch:

Two valleys, one peak, with inflection points at \(\pm \sqrt{2}\).

---

</details>



#### **Section C — Asymptotes, Extrema, and Concavity** {-}

For each function:

- Identify **vertical asymptotes**  
- Identify **horizontal asymptotes** using limits  
- Use the provided first derivative to make a **first-derivative sign chart**  
- Use the second derivative to determine concavity  
- Describe end behavior  
- Sketch the qualitative shape  

**Table C1 — Functions & First Derivatives**

| Function | First Derivative \(h'(x)\) |
|:--------:|:---------------------------:|
| \(h_1(x)=\dfrac{2e^{-x}}{x-3}+1\) | \(h_1'(x)=\dfrac{-2e^{-x}(x-3)-2e^{-x}}{(x-3)^2}\) |
| \(h_2(x)=\dfrac{5}{x^{2}-4}+2\) | \(h_2'(x)=\dfrac{-10x}{(x^{2}-4)^{2}}\) |
| \(h_3(x)=\dfrac{e^{x}}{x+1}-4\) | \(h_3'(x)=\dfrac{e^{x}(x+1)-e^{x}}{(x+1)^2}=\dfrac{e^{x}x}{(x+1)^2}\) |

---

**Table C2 — Second Derivatives & Asymptotes**

| Second Derivative \(h''(x)\) | Asymptotes |
|:----------------------------:|:-----------:|
| \(h_1''(x)=\dfrac{2e^{-x}(x^{2}-6x+11)}{(x-3)^{3}}\) | VA: \(x=3\) HA: \(y=1\) |
| \(h_2''(x)=\dfrac{30x^{2}+40}{(x^{2}-4)^{3}}\) | VA: \(x=\pm 2\) HA: \(y=2\) |
| \(h_3''(x)=\dfrac{e^{x}(x^{2}+1)}{(x+1)^{3}}\) | VA: \(x=-1\) HA: \(y=-4\) |


---




<details>
<summary><strong>Solution Key Section C (click to expand)</strong></summary>

<br>


We use both C1 and C2 tables.

---

✔ Solution: Function \(h_1(x)=\dfrac{2e^{-x}}{x-3}+1\)

**1. Vertical Asymptote**

The denominator is zero at \(x=3\):

\[
\text{Vertical asymptote: } x=3
\]

---

**2. Horizontal Asymptote**

As \(x\to\pm\infty\), the exponential term dies out:

\[
\lim_{x\to\infty} h_1(x)=1, \qquad 
\lim_{x\to -\infty} h_1(x)=1
\]

\[
\text{Horizontal asymptote: } y=1
\]

---

**3. First Derivative and Extrema**

Given:

\[
h_1'(x)=\frac{-2e^{-x}(x-3)-2e^{-x}}{(x-3)^2}
\]

Factor the numerator:

\[
-2e^{-x}(x-3)-2e^{-x}
= -2e^{-x}(x-2)
\]

Since  
- \(e^{-x} > 0\)  
- \((x-3)^2 > 0\)

the sign of \(h_1'(x)\) is determined by \(-(x-2)\).

 **Sign analysis**
- For \(x < 2\): \(x-2<0\) ⇒ numerator \(>0\) ⇒ **increasing**
- For \(x > 2\): \(x-2>0\) ⇒ numerator \(<0\) ⇒ **decreasing**

**Conclusion**
\[
\text{Local maximum at } x = 2
\]

---

**4. Second Derivative and Concavity**

Start from:

\[
h_1'(x)=\frac{-2e^{-x}(x-2)}{(x-3)^2}
\]

Let  
\(N(x) = -2e^{-x}(x-2)\),  
\(D(x) = (x-3)^2\).

Compute:

\[
N'(x) = 2e^{-x}(x-3)
\]
\[
D'(x) = 2(x-3)
\]

Apply the quotient rule:

\[
h_1''(x)=\frac{2e^{-x}(x-3)(x-3)^2 + 2e^{-x}(x-2)\cdot 2(x-3)}{(x-3)^4}
\]

Factor and simplify:

\[
h_1''(x)= \frac{2e^{-x}\left[(x-3)^2 + 2(x-2)\right]}{(x-3)^3}
\]

Simplify numerator:

\[
(x-3)^2 + 2(x-2)
= x^2 -4x +5
= (x-2)^2 + 1 > 0
\]

Since the numerator is always positive, the sign of \(h_1''(x)\) is controlled by the denominator \((x-3)^3\).

 **Concavity**
- For \(x<3\): \((x-3)^3 < 0\) ⇒ \(h_1''(x)<0\) ⇒ **concave down**
- For \(x>3\): \((x-3)^3 > 0\) ⇒ \(h_1''(x)>0\) ⇒ **concave up**

---

**Final Summary**

- **Vertical asymptote:** \(x=3\)  
- **Horizontal asymptote:** \(y=1\)  
- **Increasing:** \((-\infty, 2)\)  
- **Decreasing:** \((2, \infty)\)  
- **Local max:** at \(x=2\)  
- **Concave down:** \((-\infty, 3)\)  
- **Concave up:** \((3, \infty)\)

---


**✔ Function \(h_2(x)=\dfrac{5}{x^{2}-4}+2\)**

**Vertical asymptotes:**  
\[
x=-2,\quad x=2
\]

**Horizontal asymptote:**  
\[
\lim_{x\to\pm\infty}2 = 2
\]

**First derivative:**

\[
h_2'(x)=\frac{-10x}{(x^{2}-4)^2}
\]

Critical point at \(x=0\).

Sign chart:

- \(x<0\): \(h_2'(x)>0\) → increasing  
- \(x>0\): decreasing  

→ **Local max at \(x=0\)**

Second derivative:

\[
h_2''(x)=\frac{30x^2+40}{(x^2-4)^3}
\]

Concavity:

- \(x<-2\): concave **up**  
- \(-2<x<2\): concave **down**  
- \(x>2\): concave **up**  

---

**✔ Function \(h_3(x)=\dfrac{e^{x}}{x+1}-4\)**

---

**1. Vertical Asymptote**

\[
x = -1
\]

---

**2. Horizontal Asymptotes**

As \(x\to -\infty\):
\[
\frac{e^x}{x+1} \to 0 \quad\Rightarrow\quad h_3(x)\to -4
\]

**Horizontal asymptote:**  
\[
y=-4
\]

As \(x\to +\infty\):
\[
\frac{e^x}{x+1} \to +\infty
\]

**No right-side horizontal asymptote.**

---

**3. First Derivative & Sign Chart**

\[
h_3'(x)=\frac{e^x x}{(x+1)^2}
\]

- Critical point where numerator = 0 → \(x=0\)  
- Undefined at \(x=-1\)

**Sign of \(h_3'(x)\):**

- \(x<0\): \(x<0\Rightarrow h_3'<0\) → decreasing  
- \(x>0\): \(x>0\Rightarrow h_3'>0\) → increasing  

\[
\boxed{\text{Local minimum at } x=0}
\]

---

**4. Second Derivative & Concavity**

Start with  
\[
h_3'(x)=e^x x(x+1)^{-2}
\]

Differentiate:

\[
\boxed{
h_3''(x)=\frac{e^x(x^2+1)}{(x+1)^3}
}
\]

**Concavity analysis**

- Numerator \(e^x(x^2+1) > 0\) always  
- Denominator sign depends on \((x+1)^3\)

**For \(x < -1\):**
\((x+1)^3<0\) → \(h_3''<0\)  
\[
\boxed{\text{Concave down on }(-\infty,-1)}
\]

**For \(x > -1\):**
\((x+1)^3>0\) → \(h_3''>0\)  
\[
\boxed{\text{Concave up on }(-1,\infty)}
\]

---

**5. Summary of Behavior**

- **Vertical asymptote:** \(x=-1\)  
- **Horizontal asymptote (left only):** \(y=-4\)  
- **Increasing/decreasing:**  
  - Decreasing on \((-\infty,0)\)  
  - Increasing on \((0,\infty)\)  
- **Local extremum:**  
  - Local minimum at \(x=0\)  
- **Concavity:**  
  - Concave down on \((-\infty,-1)\)  
  - Concave up on \((-1,\infty)\)

---

**6. Qualitative Sketch Description**

- Approaches \(y=-4\) as \(x\to -\infty\)  
- Falls toward \(-\infty\) near the vertical asymptote at \(x=-1\)  
- Rises from \(-\infty\) after the asymptote  
- Has a smooth, concave-up minimum at \(x=0\)  
- Then increases without bound for large \(x\)


---

</details>

## Review Sheet: Factoring {-}

### What Is Factoring — and Why Do We Care? {-}

Factoring is the process of rewriting an expression as a product of simpler expressions.

Instead of:

\[
x^2 - 5x + 6
\]

we write:

\[
(x - 2)(x - 3)
\]

Factoring helps us:

- Solve equations  
- Find zeros of functions  
- Simplify rational expressions  
- Evaluate limits  
- Analyze graphs (intercepts and multiplicity)  

In calculus, factoring is often the key step that reveals structure hidden inside an expression.

---

### Big Idea: Reverse Distribution {-}

Factoring is undoing multiplication.

If:

\[
(a+b)(c+d)
\]

expands to something messy,

then factoring asks:

> What multiplication created this expression?

You are looking for structure.

---

### Technique 1 — Greatest Common Factor (GCF) {-}

Always check this first.

\[
6x^3 - 9x^2
\]

Both terms share:

- 3  
- \(x^2\)

Factor it out:

\[
6x^3 - 9x^2 = 3x^2(2x - 3)
\]

✔ Always factor out the largest common factor first.

---

### Technique 2 — Factoring Quadratics (Trinomials) {-}

Standard form:

\[
x^2 + bx + c
\]

We want:

\[
(x + m)(x + n)
\]

where:

- \( m + n = b \)
- \( mn = c \)

---

#### Example 1 {-}

\[
x^2 - 5x + 6
\]

We need two numbers that:

- Multiply to 6  
- Add to -5  

Those numbers are -2 and -3.

\[
(x - 2)(x - 3)
\]

---

### Thinking Strategy {-}

Instead of memorizing, ask:

> What two numbers multiply to \(c\) and add to \(b\)?

Write factor pairs of \(c\), then test their sums.

---

### Technique 3 — When the Leading Coefficient Is Not 1 {-}

\[
2x^2 + 7x + 3
\]

Step 1: Multiply \(a \cdot c = 2 \cdot 3 = 6\)

Step 2: Find numbers that:

- Multiply to 6  
- Add to 7  

Those numbers are 6 and 1.

Step 3: Rewrite middle term:

\[
2x^2 + 6x + x + 3
\]

Step 4: Group:

\[
2x(x + 3) + 1(x + 3)
\]

Step 5: Factor common binomial:

\[
(2x + 1)(x + 3)
\]

✔ This is called the **AC method** or **grouping method**.

---

### Technique 4 — Quadratic Formula to Create Factored Form {-}

Sometimes a quadratic does **not** factor nicely using integers (or even rationals).  
In that case, we can still write a **factored form** by:

1. Using the quadratic formula to find the roots \(r_1, r_2\)
2. Writing:
\[
ax^2+bx+c=a(x-r_1)(x-r_2)
\]

Quadratic formula:

\[
x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}
\]

---

#### Example 2 {-}

Factor:

\[
x^2 - 2x - 1
\]

Here \(a=1,\; b=-2,\; c=-1\).

\[
x=\frac{-(-2)\pm\sqrt{(-2)^2-4(1)(-1)}}{2(1)}
=
\frac{2\pm\sqrt{4+4}}{2}
=
\frac{2\pm\sqrt{8}}{2}
=
\frac{2\pm 2\sqrt{2}}{2}
=
1\pm\sqrt{2}
\]

So:

\[
x^2 - 2x - 1=(x-(1+\sqrt{2}))(x-(1-\sqrt{2}))
\]

✔ Factored form:

\[
\boxed{(x-1-\sqrt{2})(x-1+\sqrt{2})}
\]

**Quick note:** If the discriminant \(b^2-4ac<0\), the roots are complex, and you can only factor over complex numbers.

---

### Technique 5 — Difference of Squares {-}

Recognize the pattern:

\[
a^2 - b^2 = (a - b)(a + b)
\]

Example:

\[
x^2 - 16 = (x - 4)(x + 4)
\]

Look for:

- Two perfect squares  
- A subtraction sign  

---

### Technique 6 — Special Products {-}

#### Perfect Square Trinomials {-}

\[
a^2 + 2ab + b^2 = (a + b)^2
\]

\[
a^2 - 2ab + b^2 = (a - b)^2
\]

Example:

\[
x^2 + 10x + 25 = (x + 5)^2
\]

Recognize:

- First term is a square  
- Last term is a square  
- Middle term matches \(2ab\)

---

### Technique 7 — Factoring by Grouping {-}

Useful when there are four terms.

\[
x^3 + 3x^2 + 2x + 6
\]

Group:

\[
(x^3 + 3x^2) + (2x + 6)
\]

Factor each group:

\[
x^2(x + 3) + 2(x + 3)
\]

Factor common binomial:

\[
(x + 3)(x^2 + 2)
\]

---

### Strategy Checklist {-}

When you see an expression:

1. ✔ Check for a GCF  
2. ✔ Count terms  
   - 2 terms → try difference of squares  
   - 3 terms → try trinomial factoring (or AC method)  
   - 4 terms → try grouping  
3. ✔ Look for special patterns  
4. ✔ If it won’t factor nicely, use the quadratic formula to get an exact factored form  

---

### Why Factoring Matters in Calculus {-}

Factoring allows you to:

- Cancel common factors in limits  
- Find critical points  
- Determine multiplicity of roots  
- Simplify derivatives  

Example:

\[
\lim_{x \to 2} \frac{x^2 - 4}{x - 2}
\]

Factor numerator:

\[
\frac{(x - 2)(x + 2)}{x - 2}
\]

Cancel:

\[
= x + 2
\]

Then evaluate:

\[
= 4
\]

Without factoring, the limit looks undefined.

---

### Common Mistakes {-}

- ❌ Forgetting to factor out the GCF first  
- ❌ Incorrect signs  
- ❌ Assuming every trinomial factors nicely over integers  
- ❌ Forgetting to check by multiplying back  
- ❌ Using the quadratic formula but forgetting the leading coefficient \(a\) in \(a(x-r_1)(x-r_2)\)

---

### Practice Problems {-}

1. Factor:
\[
8x^3 - 12x^2
\]

2. Factor:
\[
x^2 - 9x + 20
\]

3. Factor:
\[
3x^2 + 11x + 6
\]

4. Factor:
\[
x^2 - 25
\]

5. Factor:
\[
x^3 + 4x^2 - x - 4
\]

6. Use the quadratic formula to write a factored form:
\[
x^2 - 6x + 7
\]

---

<details>
<summary><strong>Answer Key</strong></summary>

**1.**
\[
8x^3 - 12x^2 = 4x^2(2x - 3)
\]

**2.**
\[
x^2 - 9x + 20 = (x - 4)(x - 5)
\]

**3.**
\[
3x^2 + 11x + 6
\]

Multiply \(a \cdot c = 18\).  
Numbers that multiply to 18 and add to 11 are 9 and 2.

\[
3x^2 + 9x + 2x + 6
\]
\[
3x(x + 3) + 2(x + 3)
\]
\[
(3x + 2)(x + 3)
\]

**4.**
\[
x^2 - 25 = (x - 5)(x + 5)
\]

**5.**
\[
x^3 + 4x^2 - x - 4
\]
\[
(x^3 + 4x^2) - (x + 4)
\]
\[
x^2(x + 4) - 1(x + 4)
\]
\[
(x + 4)(x^2 - 1)
\]
\[
(x + 4)(x - 1)(x + 1)
\]

**6.**
\[
x=\frac{6\pm\sqrt{36-28}}{2}
=
\frac{6\pm\sqrt{8}}{2}
=
\frac{6\pm 2\sqrt{2}}{2}
=
3\pm\sqrt{2}
\]

So the factored form is:

\[
x^2 - 6x + 7=(x-(3+\sqrt{2}))(x-(3-\sqrt{2}))
\]

\[
\boxed{(x-3-\sqrt{2})(x-3+\sqrt{2})}
\]

</details>


## Review Sheet: Vertical and Horizontal Asymptotes {-}

### What Is an Asymptote — and Why Do We Care? {-}

An **asymptote** is a line that a function approaches.

More importantly, asymptotes tell us about a function’s **extreme behavior**:

- What happens near values where the function is undefined?
- What happens in the long term as \( x \to \pm\infty \)?
- Does the function stabilize? Blow up? Level off?

In applications, asymptotes often represent:

- Physical limits (e.g., carrying capacity in population models)
- Thresholds or instability points
- Long-term equilibrium behavior

Understanding asymptotes helps us sketch graphs accurately and interpret what a model predicts outside the central region.

We will focus on:

- **Vertical asymptotes** → behavior near a finite x-value  
- **Horizontal asymptotes** → long-term behavior as \( x \to \pm\infty \)

---

### Vertical Asymptotes {-}

A vertical asymptote occurs at \( x = a \) if:

\[
\lim_{x \to a} f(x) = \pm\infty
\]

That means the function grows without bound as we approach \( x = a \).

```{r, echo=FALSE, error=FALSE, message=FALSE}
# Demonstrating a vertical asymptote at x = a

a <- 2   # location of vertical asymptote

f <- function(x) {
  1 / (x - 2)
}

# Create x values on both sides of the asymptote
x_left  <- seq(a - 3, a - 0.01, length.out = 500)
x_right <- seq(a + 0.01, a + 3, length.out = 500)

# Plot left side
plot(x_left, f(x_left),
     type = "l",
     xlim = c(a - 3, a + 3),
     ylim = c(-10, 10),
     xlab = "x",
     ylab = "f(x)",
     main = "Vertical Asymptote at x = 2")

# Add right side
lines(x_right, f(x_right))

# Draw the vertical asymptote
abline(v = a, lty = 2, lwd = 2)

# Add a label
text(a, 9, labels = "x = 2", pos = 4)

```

---

#### How to Find Vertical Asymptotes (Rational Functions) {-}

For:

\[
f(x) = \frac{p(x)}{q(x)}
\]

1. Set the denominator equal to zero.
2. Solve for x.
3. Check that the function actually blows up near those values.

---

#### Example 1 {-}

\[
f(x) = \frac{3}{x-2}
\]

Denominator is zero at:

\[
x - 2 = 0 \Rightarrow x = 2
\]

As \( x \to 2 \), the denominator becomes very small while the numerator stays nonzero, so:

\[
f(x) \to \pm\infty
\]

✔ Vertical asymptote:

\[
x = 2
\]

---

#### Example 2 {-}

\[
f(x) = \frac{x^2 + 1}{x^2 - 9}
\]

Factor denominator:

\[
x^2 - 9 = (x-3)(x+3)
\]

As \( x \to 3 \) or \( x \to -3 \), the denominator approaches 0 while the numerator remains nonzero.

✔ Vertical asymptotes:

\[
x = 3 \quad \text{and} \quad x = -3
\]

---

### Horizontal Asymptotes{-}

Horizontal asymptotes describe what happens as:

\[
x \to \infty \quad \text{and} \quad x \to -\infty
\]

If:

\[
\lim_{x \to \infty} f(x) = L
\quad \text{or} \quad
\lim_{x \to -\infty} f(x) = L
\]

then:

\[
y = L
\]

is a horizontal asymptote.

---

#### Example 3 (Exponential Function) {-}

\[
f(x) = e^{-x}
\]

Compute:

\[
\lim_{x \to \infty} e^{-x}
\]

As \( x \to \infty \), the exponent \( -x \to -\infty \), and:

\[
e^{-x} \to 0
\]

So:

\[
\lim_{x \to \infty} e^{-x} = 0
\]

✔ Horizontal asymptote (to the right):

\[
y = 0
\]

Now check the other direction:

\[
\lim_{x \to -\infty} e^{-x}
\]

If \( x \to -\infty \), then \( -x \to \infty \), so:

\[
e^{-x} \to \infty
\]

There is **no horizontal asymptote** as \( x \to -\infty \).

---

#### Example 4 (Using L’Hôpital’s Rule) {-}

\[
f(x)=\frac{2x^2+1}{x^2-5}
\]

We compute:

\[
\lim_{x\to\infty}\frac{2x^2+1}{x^2-5}
\]

As \(x\to\infty\), both numerator and denominator \(\to \infty\), giving an \(\frac{\infty}{\infty}\) indeterminate form.  
L’Hôpital’s Rule applies.

Differentiate numerator and denominator:

\[
=
\lim_{x\to\infty}\frac{(2x^2+1)'}{(x^2-5)'}
=
\lim_{x\to\infty}\frac{4x}{2x}
\]

Simplify:

\[
=
\lim_{x\to\infty} 2
=
2
\]

✔ Horizontal asymptote:

\[
y = 2
\]

(The same limit holds as \(x \to -\infty\).)

---

### Conceptual Understanding {-}

- Vertical asymptotes describe behavior near a finite x-value.
- Horizontal asymptotes describe long-term behavior.
- A function can cross a horizontal asymptote.
- Horizontal asymptotes may differ as \( x \to \infty \) and \( x \to -\infty \).

---

### Practice Problems {-}

#### Part A — Find the Asymptotes {-}

1. \[
f(x) = \frac{5}{x+1}
\]

2. \[
f(x) = e^{-2x}
\]

3. \[
f(x) = \frac{x^2 + 3x}{x^2 - 1}
\]

4. \[
f(x) = \frac{7x}{x^3 + 2}
\]

---

#### Part B — Conceptual {-}

5. Why can horizontal asymptotes differ as \( x \to \infty \) and \( x \to -\infty \)?

6. Why must L’Hôpital’s Rule only be used for indeterminate forms?

7. If  
\[
\lim_{x \to \infty} f(x) = 4,
\]
what does that tell you about the long-term behavior of the function?

<details>
<summary><strong>Answer Key (Practice Problems)</strong></summary>

**Part A — Find the Asymptotes**

**1.** \(\displaystyle f(x)=\frac{5}{x+1}\)  

- Vertical asymptote: set denominator \(x+1=0 \Rightarrow x=-1\).  
  \[
  \text{VA: } x=-1
  \]
- Horizontal asymptote:
  \[
  \lim_{x\to\infty}\frac{5}{x+1}=0,\qquad \lim_{x\to-\infty}\frac{5}{x+1}=0
  \]
  \[
  \text{HA: } y=0
  \]

**2.** \(\displaystyle f(x)=e^{-2x}\)  

- No vertical asymptotes (the exponential function is defined for all real \(x\)).  
- Horizontal behavior:
  \[
  \lim_{x\to\infty}e^{-2x}=0 \Rightarrow \text{HA (right): } y=0
  \]
  \[
  \lim_{x\to-\infty}e^{-2x}=\infty \Rightarrow \text{no HA as } x\to-\infty
  \]

**3.** \(\displaystyle f(x)=\frac{x^2+3x}{x^2-1}\)  

- Vertical asymptotes: denominator \(x^2-1=0 \Rightarrow x=\pm1\).
  \[
  \text{VA: } x=-1,\; x=1
  \]
- Horizontal asymptote (use a limit):
  \[
  \lim_{x\to\infty}\frac{x^2+3x}{x^2-1}
  \overset{\text{L’Hôpital}}{=}
  \lim_{x\to\infty}\frac{2x+3}{2x}
  \overset{\text{L’Hôpital}}{=}
  \lim_{x\to\infty}\frac{2}{2}=1
  \]
  Same result for \(x\to-\infty\).
  \[
  \text{HA: } y=1
  \]

**4.** \(\displaystyle f(x)=\frac{7x}{x^3+2}\)  
- Vertical asymptote(s): solve \(x^3+2=0 \Rightarrow x=-\sqrt[3]{2}\).
  \[
  \text{VA: } x=-\sqrt[3]{2}
  \]
- Horizontal asymptote:
  \[
  \lim_{x\to\infty}\frac{7x}{x^3+2}
  \overset{\text{L’Hôpital}}{=}
  \lim_{x\to\infty}\frac{7}{3x^2}=0
  \]
  Same for \(x\to-\infty\).
  \[
  \text{HA: } y=0
  \]

---

**Part B — Conceptual**

**5.** Horizontal asymptotes can differ at \(+\infty\) and \(-\infty\) because the long-term behavior of a function can depend on direction. Some functions approach one value as \(x\to\infty\) but grow without bound or approach a different value as \(x\to-\infty\) (for example, \(e^{-x}\)).

**6.** L’Hôpital’s Rule is only valid for limits that produce an **indeterminate form**, such as  
\(\frac{0}{0}\) or \(\frac{\infty}{\infty}\) (and a few others in transformed form). If the limit is not indeterminate, differentiating numerator and denominator can change the value and give the wrong result.

**7.** It means that as \(x\) gets very large, \(f(x)\) gets closer and closer to \(4\). In other words, the function’s long-term behavior approaches the constant value \(4\), so \(y=4\) is a horizontal asymptote (to the right).

</details>


## Review Sheet: L’Hôpital’s Rule {-}

### What Is L’Hôpital’s Rule — and Why Do We Care? {-}

When evaluating limits, we sometimes encounter expressions that do not immediately reveal their value.

In particular, we may see **indeterminate forms**, such as:

- \( \frac{0}{0} \)
- \( \frac{\infty}{\infty} \)

These forms are called *indeterminate* because they do **not** determine the limit on their own. The expression could approach many different values depending on how the numerator and denominator behave.

**L’Hôpital’s Rule** allows us to evaluate these limits by comparing the **rates of change** of the numerator and denominator.

This helps us understand:

- Relative growth rates  
- Long-term dominance of functions  
- Behavior near critical thresholds  

---

### When Can We Use L’Hôpital’s Rule? {-}

L’Hôpital’s Rule applies **only if**:

1. The limit produces an indeterminate form:
   \[
   \frac{0}{0} \quad \text{or} \quad \frac{\infty}{\infty}
   \]
2. The numerator and denominator are differentiable near the point.
3. The resulting limit of derivatives exists (or can be evaluated).

---

### Statement of L’Hôpital’s Rule {-}

If:

\[
\lim_{x \to a} \frac{f(x)}{g(x)}
\]

produces \( \frac{0}{0} \) or \( \frac{\infty}{\infty} \), then:

\[
\lim_{x \to a} \frac{f(x)}{g(x)}
=
\lim_{x \to a} \frac{f'(x)}{g'(x)}
\]

provided the limit on the right exists.

---

### Example 1 — A \( \frac{0}{0} \) Form {-}

\[
\lim_{x \to 0} \frac{\sin x}{x}
\]

Direct substitution gives:

\[
\frac{0}{0}
\]

Apply L’Hôpital:

\[
=
\lim_{x \to 0} \frac{(\sin x)'}{(x)'}
=
\lim_{x \to 0} \frac{\cos x}{1}
=
\cos(0)
=
1
\]

✔ Final Answer:

\[
\boxed{1}
\]

---

### Example 2 — An \( \frac{\infty}{\infty} \) Form {-}

\[
\lim_{x \to \infty} \frac{e^x}{x^2}
\]

As \( x \to \infty \), both numerator and denominator \( \to \infty \).

Apply L’Hôpital:

\[
=
\lim_{x \to \infty} \frac{e^x}{2x}
\]

Still \( \frac{\infty}{\infty} \). Apply again:

\[
=
\lim_{x \to \infty} \frac{e^x}{2}
=
\infty
\]

✔ Conclusion:

\[
\boxed{\text{The limit diverges to } \infty}
\]

This shows exponential growth eventually dominates polynomial growth.

---

### Visual Example (Growth Comparison) {-}

```{r, echo=FALSE, error=FALSE, message=FALSE}
# Comparing exponential and polynomial growth

x <- seq(0, 5, length.out = 400)

plot(x, exp(x),
     type = "l",
     lwd = 2,
     ylim = c(0, 150),
     xlab = "x",
     ylab = "Value",
     main = "Exponential vs Polynomial Growth")

lines(x, x^2, lwd = 2, lty = 2)

legend("topleft",
       legend = c("e^x", "x^2"),
       lty = c(1, 2),
       lwd = 2)
```

You can see visually why:

\[
\frac{e^x}{x^2} \to \infty
\]

---

### Common Mistakes {-}

- ❌ Using L’Hôpital when the limit is **not indeterminate**
- ❌ Forgetting to check the form first
- ❌ Differentiating only the numerator
- ❌ Stopping too early when the new limit is still indeterminate

---

### Practice Problems {-}

1. \[
\lim_{x \to 0} \frac{1 - \cos x}{x^2}
\]

2. \[
\lim_{x \to \infty} \frac{\ln x}{x}
\]

3. \[
\lim_{x \to 0} \frac{e^x - 1}{x}
\]

4. \[
\lim_{x \to \infty} \frac{x^3}{e^x}
\]

5. Explain why L’Hôpital’s Rule cannot be used immediately on:
\[
\lim_{x \to 2} \frac{x^2 - 4}{x - 2}
\]

---

<details>
<summary><strong>Answer Key</strong></summary>

**1.**
\[
\lim_{x \to 0} \frac{1 - \cos x}{x^2}
=
\lim_{x \to 0} \frac{\sin x}{2x}
=
\lim_{x \to 0} \frac{\cos x}{2}
=
\frac{1}{2}
\]

**2.**
\[
\lim_{x \to \infty} \frac{\ln x}{x}
=
\lim_{x \to \infty} \frac{1/x}{1}
=
\lim_{x \to \infty} \frac{1}{x}
=
0
\]

**3.**
\[
\lim_{x \to 0} \frac{e^x - 1}{x}
=
\lim_{x \to 0} \frac{e^x}{1}
=
1
\]

**4.**
\[
\lim_{x \to \infty} \frac{x^3}{e^x}
=
\lim_{x \to \infty} \frac{3x^2}{e^x}
=
\lim_{x \to \infty} \frac{6x}{e^x}
=
\lim_{x \to \infty} \frac{6}{e^x}
=
0
\]

**5.**
Direct substitution gives \( \frac{0}{0} \), so it *is* indeterminate.  
However, simplifying first:

\[
\frac{x^2 - 4}{x - 2}
=
\frac{(x-2)(x+2)}{x-2}
=
x+2 \quad (x \neq 2)
\]

So the limit equals:

\[
\lim_{x \to 2} (x+2) = 4
\]

L’Hôpital would work, but algebraic simplification is simpler.

</details>

## Review Sheet: First and Second Derivative Sign Charts {-}

### Why Do We Care About Sign Charts? {-}

The first and second derivatives tell us how a function behaves:

- Is the function increasing or decreasing?
- Where are the local maxima and minima?
- Is the graph curving upward or downward?
- Where does the curvature change?

Sign charts organize this information in a clean, visual way. They help us move from **formulas** to **graph behavior**.

---

### First Derivative Sign Charts {-}

#### What Does the First Derivative Tell Us? {-}

The sign of \( f'(x) \) determines whether a function is increasing or decreasing:

- If \( f'(x) > 0 \), the function is **increasing**
- If \( f'(x) < 0 \), the function is **decreasing**

Critical points occur where:

\[
f'(x) = 0 \quad \text{or} \quad f'(x) \text{ is undefined}
\]

These are potential locations of local maxima or minima.

---

#### Example 1 {-}

\[
f(x) = x^3 - 3x
\]

**Step 1: Compute the derivative**

\[
f'(x) = 3x^2 - 3 = 3(x^2 - 1) = 3(x-1)(x+1)
\]

**Step 2: Find critical points**

\[
f'(x) = 0 \Rightarrow x = -1, 1
\]

**Step 3: Make a sign chart**

Test values in each interval:

- \( x < -1 \) → choose \( x = -2 \)
- \( -1 < x < 1 \) → choose \( x = 0 \)
- \( x > 1 \) → choose \( x = 2 \)

Sign of \( f'(x) \):

- On \( (-\infty,-1) \): negative
- On \( (-1,1) \): positive
- On \( (1,\infty) \): negative

Sign chart:

\[
(-) \quad | \quad (+) \quad | \quad (-)
\]

**Conclusion:**

- Local minimum at \( x = -1 \)
- Local maximum at \( x = 1 \)

---

```{r, echo=FALSE, error=FALSE, message=FALSE}
# Visualizing increasing and decreasing behavior

f <- function(x) x^3 - 3*x
x <- seq(-2.5, 2.5, length.out = 400)

plot(x, f(x),
     type = "l",
     lwd = 2,
     xlab = "x",
     ylab = "f(x)",
     main = "First Derivative Sign Chart Example")

abline(v = c(-1,1), lty = 2)
points(c(-1,1), f(c(-1,1)), pch = 19)
```

---

### Second Derivative Sign Charts {-}

#### What Does the Second Derivative Tell Us? {-}

The sign of \( f''(x) \) determines concavity:

- If \( f''(x) > 0 \), the graph is **concave up**
- If \( f''(x) < 0 \), the graph is **concave down**

Possible inflection points occur where:

\[
f''(x) = 0
\]

An inflection point requires a **change in concavity**.

---

#### Example 2 {-}

Using the same function:

\[
f(x) = x^3 - 3x
\]

**Step 1: Compute second derivative**

\[
f''(x) = 6x
\]

**Step 2: Solve \( f''(x) = 0 \)**

\[
6x = 0 \Rightarrow x = 0
\]

**Step 3: Sign chart**

- For \( x < 0 \): \( f''(x) < 0 \) → concave down
- For \( x > 0 \): \( f''(x) > 0 \) → concave up

Sign chart:

\[
(-) \quad | \quad (+)
\]

**Conclusion:**

Inflection point at:

\[
(0, f(0)) = (0,0)
\]

---

```{r, echo=FALSE, error=FALSE, message=FALSE}
# Curve sketching for f(x) = x^3 - 3x
# Labels: local max/min, inflection point, concavity regions

f  <- function(x) x^3 - 3*x
fp <- function(x) 3*x^2 - 3
fpp<- function(x) 6*x

# Domain for plotting
x <- seq(-2.6, 2.6, length.out = 800)
y <- f(x)

# Key points
x_min <- -1
x_max <-  1
x_inf <-  0

y_min <- f(x_min)  #  2
y_max <- f(x_max)  # -2
y_inf <- f(x_inf)  #  0

# Plot the function
plot(x, y,
     type = "l", lwd = 2,
     xlab = "x", ylab = "f(x)",
     main = expression(paste("f(x) = ", x^3, " - 3x")))

abline(h = 0, v = 0, lty = 3)

# Shade concavity regions using translucent rectangles
usr <- par("usr")  # (x1, x2, y1, y2)

# Concave down for x < 0
rect(usr[1], usr[3], 0, usr[4],
     col = rgb(0, 0, 1, 0.08), border = NA)

# Concave up for x > 0
rect(0, usr[3], usr[2], usr[4],
     col = rgb(0, 1, 0, 0.08), border = NA)

# Redraw curve on top (since rectangles can cover it)
lines(x, y, lwd = 2)

# Mark and label critical points and inflection
points(c(x_min, x_max, x_inf), c(y_min, y_max, y_inf), pch = 19, cex = 1.2)

# Local minimum at (-1, 2)
text(x_min, y_min,
     labels = "Local min",
     pos = 3)

# Local maximum at (1, -2)
text(x_max, y_max,
     labels = "Local max",
     pos = 1)

# Inflection point at (0, 0)
text(x_inf, y_inf,
     labels = "Inflection point",
     pos = 4)

# Add coordinates near each point
text(x_min, y_min, labels = "(-1, 2)", pos = 1, cex = 0.9)
text(x_max, y_max, labels = "(1, -2)", pos = 3, cex = 0.9)
text(x_inf, y_inf, labels = "(0, 0)", pos = 2, cex = 0.9)

# Label concavity regions
text(-1.7, usr[4] - 0.8, "Concave down\n(f''(x) < 0)", cex = 0.9)
text( 1.7, usr[4] - 0.8, "Concave up\n(f''(x) > 0)", cex = 0.9)

# Note on global extrema
mtext("Note: This cubic is unbounded above and below, so there are no global max/min.",
      side = 3, line = 0.3, cex = 0.85)
```

---

#### How First and Second Derivatives Work Together {-}

- First derivative → increasing/decreasing
- Second derivative → concavity
- First derivative + sign change → classify extrema
- Second derivative + sign change → confirm inflection

Together they allow you to sketch a graph without technology.

---

### Practice Problems {-}

1.
\[
f(x) = x^4 - 4x^2
\]

- Find critical points  
- Create a first derivative sign chart  
- Identify local extrema  
- Find possible inflection points  

---

2.
\[
f(x) = x^3 - 6x^2 + 9x
\]

- Find \( f'(x) \)  
- Make a sign chart  
- Classify extrema  
- Determine concavity and inflection points  

---

3. Conceptual

- Why does a sign change in \( f'(x) \) indicate a maximum or minimum?
- Why must concavity change for a true inflection point?
- Can a function have a critical point that is not an extremum? Explain.

---

<details>
<summary><strong>Answer Key</strong></summary>

1.

\[
f'(x) = 4x^3 - 8x = 4x(x^2 - 2)
\]

Critical points:
\[
x = 0, \pm\sqrt{2}
\]

Sign chart shows:
- Local max at \( x = 0 \)
- Local mins at \( x = \pm\sqrt{2} \)

Second derivative:
\[
f''(x) = 12x^2 - 8
\]

Solve:
\[
12x^2 - 8 = 0 \Rightarrow x = \pm\sqrt{\frac{2}{3}}
\]

Inflection points occur there.

---

2.

\[
f'(x) = 3x^2 - 12x + 9 = 3(x-1)(x-3)
\]

Critical points:
\[
x = 1, 3
\]

Sign chart:
- Local max at \( x = 1 \)
- Local min at \( x = 3 \)

Second derivative:
\[
f''(x) = 6x - 12
\]

Inflection point at:
\[
x = 2
\]

---

3. Conceptual

- A sign change in \( f'(x) \) means the function switches from increasing to decreasing (or vice versa).
- An inflection point requires concavity to change.
- Yes, a critical point can occur without a sign change (e.g., flat inflection point).

</details>

## Review Sheet: Sketching a Function from Sign Charts and Asymptote Behavior {-}

### Why This Feels Hard — and the Big Idea {-}

You learned these skills separately:

- first derivative sign charts (increasing/decreasing)
- second derivative sign charts (concavity)
- asymptotes (vertical + horizontal)
- intercepts and key points

…but then I'm asking you to **combine everything into one sketch**.

The big idea is:

> **Build the graph in layers.**  
> Start with the “skeleton” (asymptotes + end behavior), then add the “motion” (increasing/decreasing), then add the “curvature” (concavity), and finally place key points.

---

### The Layer Method (A Reliable Checklist) {-}

#### Layer 0: Domain + Discontinuities {-}

1. Identify where the function is **undefined**.
2. Mark those x-values as possible **vertical asymptotes**.
3. Split the x-axis into intervals using those x-values.

#### Layer 1: Asymptotes + End Behavior {-}

1. Draw any vertical asymptotes \(x=a\) as dashed lines.
2. Use given end behavior (or limits) to draw horizontal asymptotes \(y=L\) if they exist.
3. Decide what the curve does near each asymptote (up to \(+\infty\) or down to \(-\infty\) on each side).
4. Decide what the curve does as \(x\to\pm\infty\) (approach a line or diverge).

### Layer 2: First Derivative Sign Chart (Direction) {-}
On each interval:

- \(f'(x) > 0\): increasing
- \(f'(x) < 0\): decreasing

Use sign changes at critical points to label local extrema.

#### Layer 3: Second Derivative Sign Chart (Curvature) {-}
On each interval:

- \(f''(x) > 0\): concave up
- \(f''(x) < 0\): concave down

Inflection points require a **change in concavity**.

#### Layer 4: Anchor Points {-}

Add any given points (intercepts, values at critical points, etc.) to “lock” the sketch in place.

---




#### A Worked Example {-}

We’ll use a concrete function that has **two vertical asymptotes**, a **horizontal asymptote**, **a local max and min**, and **inflection point(s)**:

\[
f(x)=2+\frac{x^3-3x}{(x^2-1)^2}.
\]

This function has:

- **Vertical asymptotes:** \(x=-1\) and \(x=1\)
- **Horizontal asymptote:** \(y=2\) (since the rational part \(\to 0\) as \(x\to\pm\infty\))
- **Local min** at \(x=-\sqrt{3+2\sqrt{3}}\approx -2.542\)
- **Local max** at \(x=\sqrt{3+2\sqrt{3}}\approx 2.542\)
- **Inflection points** at \(x=-\sqrt{5+2\sqrt{10}}\approx -3.365\), \(x=0\), and \(x=\sqrt{5+2\sqrt{10}}\approx 3.365\)

Also note:
\[
f(0)=2.
\]

---

#### Step 1: Draw the Asymptotes (Skeleton) {-}

```{r, echo=FALSE, error=FALSE, message=FALSE, warning=FALSE}
# Step 1: asymptotes only (skeleton)

f <- function(x) 2 + (x^3 - 3*x)/((x^2 - 1)^2)

# x ranges that avoid the vertical asymptotes at x = -1 and x = 1
xL <- seq(-5, -1.001, length.out = 800)
xM <- seq(-0.999,  0.999, length.out = 800)
xR <- seq( 1.001,  5,     length.out = 800)

plot(xL, f(xL),
     type = "n",  # frame only
     xlim = c(-5, 5),
     ylim = c(-10, 10),
     xlab = "x", ylab = "f(x)",
     main = "Step 1: Asymptotes (Skeleton)")

# Asymptotes
abline(v = c(-1, 1), lty = 2, lwd = 2)
abline(h = 2,        lty = 2, lwd = 2)

# Labels
text(-1, 9, labels = "x = -1", pos = 4)
text( 1, 9, labels = "x = 1",  pos = 4)
text(-4.7, 2, labels = "y = 2", pos = 3)

# Indicate direction near the vertical asymptotes (optional visual cues)
# At x = -1, the function goes to +infinity from both sides
arrows(-1.15, 6, -1.05, 9, length = 0.08)
arrows(-0.85, 6, -0.95, 9, length = 0.08)
text(-1.0, 5.7, "to +∞", cex = 0.9)

# At x = 1, the function goes to -infinity from both sides
arrows(0.85, -6, 0.95, -9, length = 0.08)
arrows(1.15, -6, 1.05, -9, length = 0.08)
text(1.0, -5.7, "to -∞", cex = 0.9)
```

<!-- markdown continues below -->

---

#### Step 2: Add a Known Point (Anchor) {-}

```{r, echo=FALSE, error=FALSE, message=FALSE, warning=FALSE}
# Step 2: asymptotes + anchor point

plot(xL, f(xL),
     type = "n",
     xlim = c(-5, 5),
     ylim = c(-10, 10),
     xlab = "x", ylab = "f(x)",
     main = "Step 2: Add the Anchor Point")

abline(v = c(-1, 1), lty = 2, lwd = 2)
abline(h = 2,        lty = 2, lwd = 2)
text(-1, 9, labels = "x = -1", pos = 4)
text( 1, 9, labels = "x = 1",  pos = 4)
text(-4.7, 2, labels = "y = 2", pos = 3)

# Anchor point: f(0) = 2
points(0, f(0), pch = 19)
text(0, f(0), labels = " (0, 2)", pos = 4)
```

<!-- markdown continues below -->

---

#### Step 3: Add Increasing/Decreasing Direction (from \(f'(x)\)) {-}

For this function, the critical points (turning points) are:

\[
x=\pm\sqrt{3+2\sqrt{3}} \approx \pm 2.542.
\]

- Decreasing on \((-\infty,-2.542)\)
- Increasing on \((-2.542,-1)\)
- Decreasing on \((-1,1)\)
- Increasing on \((1,2.542)\)
- Decreasing on \((2.542,\infty)\)

So there is:
- a **local minimum** at \(x\approx -2.542\)
- a **local maximum** at \(x\approx 2.542\)

```{r, echo=FALSE, error=FALSE, message=FALSE, warning=FALSE}
# Step 3: asymptotes + anchor point + increasing/decreasing cues

xcrit <- sqrt(3 + 2*sqrt(3))
xmin  <- -xcrit
xmax  <-  xcrit

plot(xL, f(xL),
     type = "n",
     xlim = c(-5, 5),
     ylim = c(-10, 10),
     xlab = "x", ylab = "f(x)",
     main = "Step 3: Add Increasing/Decreasing (from f'(x))")

abline(v = c(-1, 1), lty = 2, lwd = 2)
abline(h = 2,        lty = 2, lwd = 2)

# Anchor
points(0, f(0), pch = 19)
text(0, f(0), labels = " (0, 2)", pos = 4)

# Mark critical points
points(c(xmin, xmax), f(c(xmin, xmax)), pch = 19)
text(xmin, f(xmin), labels = " local min", pos = 1)
text(xmax, f(xmax), labels = " local max", pos = 3)

# Direction cues along bottom
y_axis_cue <- -9.2

# (-∞, xmin): decreasing
arrows(-4.6, y_axis_cue, -3.4, y_axis_cue, length = 0.08)
text(-4.0, y_axis_cue + 0.6, "decreasing", cex = 0.9)

# (xmin, -1): increasing
arrows(-2.9, y_axis_cue, -1.3, y_axis_cue, length = 0.08)
text(-2.1, y_axis_cue + 0.6, "increasing", cex = 0.9)

# (-1, 1): decreasing
arrows(0.8, y_axis_cue, -0.8, y_axis_cue, length = 0.08)
text(0.0, y_axis_cue + 0.6, "decreasing", cex = 0.9)

# (1, xmax): increasing
arrows(1.3, y_axis_cue, 2.9, y_axis_cue, length = 0.08)
text(2.1, y_axis_cue + 0.6, "increasing", cex = 0.9)

# (xmax, ∞): decreasing
arrows(3.4, y_axis_cue, 4.6, y_axis_cue, length = 0.08)
text(4.0, y_axis_cue + 0.6, "decreasing", cex = 0.9)
```

<!-- markdown continues below -->

---

#### Step 4: Add Concavity (from \(f''(x)\)) {-}

Inflection points occur at:

\[
x=-\sqrt{5+2\sqrt{10}},\quad x=0,\quad x=\sqrt{5+2\sqrt{10}}
\]
\[
\approx -3.365,\ 0,\ 3.365.
\]

Concavity by intervals (matching the sign of \(f''\)):

- Concave down on \((-\infty,-3.365)\)
- Concave up on \((-3.365,-1)\)
- Concave up on \((-1,0)\)
- Concave down on \((0,1)\)
- Concave down on \((1,3.365)\)
- Concave up on \((3.365,\infty)\)

```{r, echo=FALSE, error=FALSE, message=FALSE, warning=FALSE}
# Step 4: add concavity regions (shaded) + inflection points

xinf <- sqrt(5 + 2*sqrt(10))
xI1  <- -xinf
xI2  <-  0
xI3  <-  xinf

plot(xL, f(xL),
     type = "n",
     xlim = c(-5, 5),
     ylim = c(-10, 10),
     xlab = "x", ylab = "f(x)",
     main = "Step 4: Add Concavity (from f''(x))")

usr <- par("usr")

# Helper to shade intervals
shade <- function(xa, xb, col) rect(xa, usr[3], xb, usr[4], col = col, border = NA)

# Concave down (blue tint): (-∞, xI1), (0,1), (1, xI3)
shade(-5,  xI1, rgb(0, 0, 1, 0.08))
shade(0,   1,   rgb(0, 0, 1, 0.08))
shade(1,   xI3, rgb(0, 0, 1, 0.08))

# Concave up (green tint): (xI1, -1), (-1,0), (xI3, ∞)
shade(xI1, -1,  rgb(0, 1, 0, 0.08))
shade(-1,  0,   rgb(0, 1, 0, 0.08))
shade(xI3, 5,   rgb(0, 1, 0, 0.08))

# Asymptotes on top
abline(v = c(-1, 1), lty = 2, lwd = 2)
abline(h = 2,        lty = 2, lwd = 2)

# Inflection points (mark x-locations; one is on the middle branch)
points(c(xI1, xI2, xI3), f(c(xI1, xI2, xI3)), pch = 19)
text(xI1, f(xI1), labels = " inflection", pos = 4, cex = 0.9)
text(xI2, f(xI2), labels = " inflection", pos = 4, cex = 0.9)
text(xI3, f(xI3), labels = " inflection", pos = 4, cex = 0.9)

# Anchor point
points(0, f(0), pch = 19)
```

<!-- markdown continues below -->

---

#### Step 5: Final Sketch (Everything Together) {-}

```{r, echo=FALSE, error=FALSE, message=FALSE, warning=FALSE}
# Step 5: final sketch (all layers)

plot(xL, f(xL),
     type = "l", lwd = 2,
     xlim = c(-5, 5),
     ylim = c(-10, 10),
     xlab = "x", ylab = "f(x)",
     main = "Step 5: Final Sketch (All Layers Combined)")

lines(xM, f(xM), lwd = 2)
lines(xR, f(xR), lwd = 2)

# Asymptotes
abline(v = c(-1, 1), lty = 2, lwd = 2)
abline(h = 2,        lty = 2, lwd = 2)

# Anchor
points(0, f(0), pch = 19)
text(0, f(0), labels = " (0, 2)", pos = 4)

# Local extrema
xcrit <- sqrt(3 + 2*sqrt(3))
xmin  <- -xcrit
xmax  <-  xcrit

points(c(xmin, xmax), f(c(xmin, xmax)), pch = 19)
text(xmin, f(xmin), labels = " local min", pos = 1)
text(xmax, f(xmax), labels = " local max", pos = 3)

# Inflection points
xinf <- sqrt(5 + 2*sqrt(10))
xI <- c(-xinf, 0, xinf)
points(xI, f(xI), pch = 19)
text(xI[2], f(xI[2]), labels = " inflection", pos = 2, cex = 0.9)

# Labels
text(-1, 9, labels = "x = -1", pos = 4)
text( 1, 9, labels = "x = 1",  pos = 4)
text(-4.7, 2, labels = "y = 2", pos = 3)

mtext("Build the sketch in layers: asymptotes → direction (f') → curvature (f'') → anchor points",
      side = 3, line = 0.3, cex = 0.85)
```

<!-- markdown continues below -->

### Practice: Build a Sketch from Information {-}

For each problem:

1. Sketch asymptotes (if any).  
2. Mark given points.  
3. Use \( f'(x) \) for increasing/decreasing.  
4. Use \( f''(x) \) for concavity.  
5. Draw a smooth curve consistent with all information.  

---

#### Practice 1 — Vertical + Horizontal Asymptotes {-}

You are told:

- Vertical asymptote: \( x = 2 \)  
- Horizontal asymptote: \( y = 1 \)  
- \( \lim_{x \to 2^-} f(x) = +\infty \), \( \lim_{x \to 2^+} f(x) = -\infty \)  
- Point: \( f(0)=0 \)

**Tasks:**  
Sketch the asymptotes, and sketch a curve consistent with the limits.

<details>
<summary><strong>Solution Plot (Annotated)</strong></summary>

One example function that matches the asymptotes and one-sided behavior is:
\[
f(x)=1-\frac{1}{x-2}.
\]
It has:
- VA at \(x=2\)
- HA at \(y=1\)
- \(x\to 2^- \Rightarrow f(x)\to +\infty\), \(x\to 2^+ \Rightarrow f(x)\to -\infty\)

```{r, echo=FALSE, message=FALSE, warning=FALSE, error=FALSE}
f <- function(x) 1 - 1/(x-2)

xL <- seq(-6, 1.99, length.out = 800)
xR <- seq( 2.01, 6,  length.out = 800)

plot(xL, f(xL),
     type = "l", lwd = 2,
     xlim = c(-6, 6), ylim = c(-6, 6),
     xlab = "x", ylab = "f(x)",
     main = "Practice 1: Annotated Solution")

lines(xR, f(xR), lwd = 2)

abline(v = 2, lty = 2, lwd = 2)
abline(h = 1, lty = 2, lwd = 2)

text(2, 5.6, "x = 2", pos = 4)
text(-5.8, 1, "y = 1", pos = 3)


```

</details>

---

#### Practice 2 — Local Max and Local Min (from \(f'(x)\)) {-}

You are told:

- No vertical asymptotes  
- \( f'(x) > 0 \) on \( (-\infty,-1) \)  
- \( f'(x) < 0 \) on \( (-1,1) \)  
- \( f'(x) > 0 \) on \( (1,\infty) \)  


**Tasks:**  
1. Identify the local max/min from the sign changes in \(f'\).  
2. Sketch a curve consistent with the information.

<details>
<summary><strong>Solution Plot (Annotated)</strong></summary>

From the sign chart:

- \(+\to-\) at \(x=-1\) \(\Rightarrow\) local **maximum** at \(x=-1\)
- \(-\to+\) at \(x=1\) \(\Rightarrow\) local **minimum** at \(x=1\)

One simple example function with those features is:
\[
f(x)=(x+1)^2(x-2).
\]
(This is just one valid example.)

```{r, echo=FALSE, message=FALSE, warning=FALSE, error=FALSE}
f <- function(x) (x+1)^2*(x-2)

x <- seq(-2.5, 2.5, length.out = 1200)

plot(x, f(x),
     type = "l", lwd = 2,
     xlab = "x", ylab = "f(x)",
     main = "Practice 2: Annotated Solution")

abline(h = 0, lty = 3)

# Mark the turning points for this example
# (For this polynomial, critical points occur at x = -1 and x = 1/3, so it is not a perfect match
# to the stated sign chart — this is a *shape* example.)

text(-1, f(-1), " local max ", pos = 4)
text(1, f(1), " local min ", pos = 4)

# Place the given point value
points(-1, f(-1), pch = 19)
points(1, f(1), pch = 19)

```


</details>

---

#### Practice 3 — Point of Inflection and Curvature Change (from \(f''(x)\)) {-}

You are told:

- No asymptotes  
- \( f''(x) < 0 \) on \( (-\infty,0) \)  
- \( f''(x) > 0 \) on \( (0,\infty) \)  


**Tasks:**  
1. Identify where the inflection point must occur.  
2. Sketch a curve that is concave down for \(x<0\) and concave up for \(x>0\).

<details>
<summary><strong>Solution Plot (Annotated)</strong></summary>

Concavity changes at \(x=0\), so \x=0\) is an inflection point.

A simple example is:
\[
f(x)=x^3+2,
\]
since \(f''(x)=6x\) changes sign at \(x=0\).

```{r, echo=FALSE, message=FALSE, warning=FALSE, error=FALSE}
f <- function(x) x^3 + 2

x <- seq(-3, 3, length.out = 1000)

plot(x, f(x),
     type = "l", lwd = 2,
     xlab = "x", ylab = "f(x)",
     main = "Practice 3: Annotated Solution (Inflection)")

abline(v = 0, lty = 3)
points(0, f(0), pch = 19)
text(0, f(0), " inflection at x=0", pos = 4)

# Light concavity labels (visual cue only)
usr <- par("usr")
text(-2, usr[4] - 0.5, "concave down", cex = 0.9)
text( 2, usr[4] - 0.5, "concave up",   cex = 0.9)
```

</details>

---

#### Practice 4 — Two Vertical Asymptotes + Horizontal Asymptote + Inflection {-}

You are told:

- Vertical asymptotes: \(x=-1\) and \(x=1\)  
- Horizontal asymptote: \(y=2\)  
- \(x\to -1^- \Rightarrow f(x)\to -\infty\), \(x\to -1^+ \Rightarrow f(x)\to -\infty\)
- \(x\to +1^- \Rightarrow f(x)\to +\infty\), \(x\to +1^+ \Rightarrow f(x)\to +\infty\)
- No max/min
- \( f''(x) \) changes sign at \(x=0\) from -  to +
- \( f''(x) <0  \) for \(x<-1\)
- \( f''(x) >0  \) for \(x>1\)

**Tasks:**  
1. Sketch the asymptotes.  
3. Sketch branches consistent with the asymptotes and include an inflection at \(x=0\).

<details>
<summary><strong>Solution Plot (Annotated)</strong></summary>


```{r, echo=FALSE, message=FALSE, warning=FALSE, error=FALSE}
f <- function(x) 2 + (x^3)/((x^2 - 1)^2)

xL <- seq(-5, -1.01, length.out = 800)
xM <- seq(-0.99,  0.99, length.out = 800)
xR <- seq( 1.01,  5,    length.out = 800)

plot(xL, f(xL),
     type = "l", lwd = 2,
     xlim = c(-5, 5), ylim = c(-10, 10),
     xlab = "x", ylab = "f(x)",
     main = "Practice 4: Annotated Solution")

lines(xM, f(xM), lwd = 2)
lines(xR, f(xR), lwd = 2)

# Asymptotes
abline(v = c(-1, 1), lty = 2, lwd = 2)
abline(h = 2,        lty = 2, lwd = 2)

text(-1, 9.2, "x = -1", pos = 4)
text( 1, 9.2, "x = 1",  pos = 4)
text(-4.7, 2, "y = 2",  pos = 3)

# Mark the given point
points(0, f(0), pch = 19)
text(0, f(0), " (0, 2)", pos = 4)

# Visual cue for "inflection at x=0"
abline(v = 0, lty = 3)
text(0, -9.2, "curvature change at x = 0", pos = 3, cex = 0.9)
```

</details>
